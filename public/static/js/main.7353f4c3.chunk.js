(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{223:function(e,t,n){e.exports=n.p+"static/media/donut.cd6cef76.svg"},425:function(e,t,n){e.exports=n(678)},668:function(e,t,n){},678:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),c=n(13),l=(n(434),"AUTHENTICATE_SUCCESS"),s="AUTHENTICATE_FAILED",u="LOG_OUT",p="NEW_REGISTER",d="REGISTER_SUCCESS",m="REGISTER_FAILED",f="START_LOADING",b="END_LOADING",h="ADD_ERROR",g="REMOVE_ERROR",O="CLEAR_ERRORS",v="LOAD_USERS_FAILED",y="LOAD_USERS_SUCCESS",E="SEND_POINT_SUCCESS",j="LOAD_EVENTS_SUCCESS",x="ADD_EVENTS_SUCCESS";function w(e){return"LOAD_"+e.toUpperCase()+"_SUCCESS"}function k(e){return"ADD_"+e.toUpperCase()+"_SUCCESS"}function C(e){return"LOAD_"+e.toUpperCase()+"ITEM_SUCCESS"}function S(e){return"LOAD_"+e.toUpperCase()+"_FAILED"}function _(e){return"UPDATE_"+e.toUpperCase()+"_SUCCESS"}function P(e){return"DELETE"+e.toUpperCase()+"_SUCCESS"}function N(e,t,n){var a="";return void 0!==e&&(a=e.toUpperCase()),void 0!==t&&(a=a+"_"+t.toUpperCase()),a=""!==a?a+"_"+n.toUpperCase():"ACTION_"+n.toUpperCase()}var D=n(7),T=n(6),I=n(4),F=n(62),R=n.n(F);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t={};if(Array.isArray(e))e.forEach((function(e){var n=R.a.plural(e.type);void 0===t[n]&&(t[n]=[]),t[n].push(M(e))}));else{if(null===e||void 0===e)return{};t[e.type]={},t[e.type]=M(e)}return t}function M(e){if(void 0===e)return{};var t=L({id:e.id},e.attributes);void 0!==e.relationships&&Object.keys(e.relationships).forEach((function(n){t=L({},t,{},B(e.relationships[n].data))}));return t}var H=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"getToken",value:function(){return localStorage.getItem("auth_token")}},{key:"getTenant",value:function(){return localStorage.getItem("tenant")}}]),e}();function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){return e.ok?e:401===e.status?{unauthorized:!0}:e.json()}function z(e,t,n){return G(e,"POST",t,n)}function V(e,t,n){return G(e,"PUT",t,n)}function $(e,t){return G(e,"GET",void 0,t)}function G(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=H.getTenant(),c={method:t,headers:{"Content-Type":"application/json",Authorization:JSON.stringify({token:a,tenant:i})},body:n};if(o){var l=new Headers;l.append("Authorization",JSON.stringify({token:a,tenant:i})),c={method:t,headers:l,body:n}}return new Promise((function(t,n){window.fetch(e,c).then(W).then((function(e){return console.log(e),e.unauthorized?{data:{},unauthorized:!0,error:!0,errorText:"Not Authorized."}:e.error?{data:{},error:!0,unauthorized:!1,errorText:e.message,errorMessage:e.message,errorCode:e.errorCode,errorParams:e.errorParams}:e.ok&&204!==e.status?e.json().then((function(t){return console.log(t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{unauthorized:!1,error:!1,errorText:null,headers:e.headers})})):{data:{},unauthorized:!1,error:!1,errorText:null}})).then((function(e){console.log(e),t(r?function(e){var t=e.data,n=e.included;if(void 0===t)return{};var a=B(t);return void 0!==n&&(a=L({},a,{included:L({},B(n))})),L({unauthorized:e.unauthorized,errorText:e.errorText,error:e.error,errorCode:e.errorCode,headers:e.headers},a)}(e):e)})).catch((function(e){n(e)}))}))}var q=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"authenticate",value:function(e,t){return G("/api/authenticate","POST",JSON.stringify({email:e,password:t}),null,!1)}},{key:"demo_authenticate",value:function(){return G("/api/demo_authenticate","POST",JSON.stringify({}),null,!1)}},{key:"register",value:function(e){return G("/api/register","POST",JSON.stringify({first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password}),null,!1)}},{key:"validateEmail",value:function(e){return G("/api/validate_new_email","POST",JSON.stringify({email:e}),null,!1)}},{key:"logout",value:function(){}}]),e}(),J=n(53);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){return{type:"ENQUEUE_SNACKBAR",notification:Q({key:(new Date).getTime()+Math.random()},e)}},Z=function(e){return{type:"REMOVE_SNACKBAR",key:e}},X="LOAD_PROFILE_SUCCESS",ee="LOAD_PROFILE_FAILED",te="SAVE_PROFILE_SUCCESS",ne="LOAD_SELF_BALANCE_SUCCESS",ae="LOAD_SELF_BALANCE_FAILED",re="LOAD_DISTRIB_BALANCE_SUCCESS",oe="LOAD_DISTRIB_BALANCE_FAILED",ie="CONFIRM_EMAIL_SUCCESS",ce="CONFIRM_EMAIL_FAILED",le="LOAD_ACCOUNT_SUCCESS",se="LOAD_ACCOUNT_FAILED",ue="SAVE_ACCOUNT_SUCCESS",pe=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"getProfile",value:function(e){return $("/api/profile",e)}},{key:"getProfileById",value:function(e,t){return $("/api/profiles/"+t,e)}},{key:"getByToken",value:function(e,t){return $("/api/confirm_email?token="+t)}},{key:"getByRecoverToken",value:function(e,t){return $("/api/users/recover?recover_token="+t)}},{key:"confirmEmail",value:function(e,t){return z("/api/confirm_email",JSON.stringify({token:t}),e)}},{key:"sendConfirmEmail",value:function(e){return z("/api/send_confirm_email",JSON.stringify({email:e}))}},{key:"saveProfile",value:function(e,t){var n=JSON.stringify({email:t.email,first_name:t.first_name,last_name:t.last_name,department_id:t.department?t.department.id:null,position:t.position,admin:t.admin,active:t.active});return V("/api/profiles/"+t.id,n,e)}},{key:"loadSelfBalance",value:function(e,t){return $("/api/self_accounts/"+t,e)}},{key:"loadDistribBalance",value:function(e,t){return $("/api/distrib_accounts/"+t,e)}},{key:"requestNewPassword",value:function(e,t){return V("/api/users/password",JSON.stringify({email:t}),e)}},{key:"submitNewPassword",value:function(e,t){return G("/api/users/password","POST",JSON.stringify({recover_token:e,password:t}),null,!1)}},{key:"saveAvatar",value:function(e,t){return G("/api/avatars","POST",t,e,!1,!0)}}]),e}(),de=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"loadTenantByDomain",value:function(e){return $("/api/tenant/show_by_domain?domain="+e)}},{key:"migrateAvatars",value:function(e){return z("/api/tenant/migrate_avatars/",null,e)}},{key:"saveLogo",value:function(e,t){return G("/api/tenant/upload_logo/","POST",t,e,!1,!0)}}]),e}();de.itemName="tenant";var me=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"loadItems",value:function(e){return $("api/departments",e)}},{key:"addItem",value:function(e,t){return z("api/departments",JSON.stringify({name:t.name,head_profile_id:t.head_profile?t.head_profile.id:null}),e)}},{key:"updateItem",value:function(e,t){var n=JSON.stringify({name:t.name,head_profile_id:t.head_profile?t.head_profile.id:null});return V("api/departments/"+t.id,n,e)}}]),e}();function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}me.itemName="department";var he=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"loadItems",value:function(e){return $("api/donuts",e)}},{key:"loadDounts",value:function(e){return $("api/donuts",e)}},{key:"postItem",value:function(e,t){return z("api/donuts",JSON.stringify(be({},t)),e)}},{key:"getItem",value:function(e,t){return $("api/donuts/"+t,e)}},{key:"updateItem",value:function(e,t){var n=JSON.stringify(be({},t));return V("api/donuts/"+t.id,n,e)}},{key:"removeItem",value:function(e,t){return function(e,t){return G(e,"DELETE",void 0,t)}("api/donuts/"+t,e)}},{key:"buyAsset",value:function(e,t){return z("api/profile_assets",JSON.stringify({donut_id:t}),e)}}]),e}();function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}he.itemName="donut";var Oe=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"updateItem",value:function(e,t){return z("/api/regards/activate",JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),e)}}]),e}();function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}Oe.itemName="regard";var ye=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"loadItems",value:function(e,t){return t.show_score?$("api/profiles?show_score="+t.show_score,e):t.show_balance?$("api/profiles?show_balance="+t.show_balance,e):t.show_sent?$("api/profiles?show_sent="+t.show_sent,e):$("api/profiles",e)}},{key:"addItem",value:function(e,t){return z("api/profiles",JSON.stringify({department_id:t.department?t.department.id:null,position:t.position}),e)}},{key:"updateItem",value:function(e,t){var n=JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{department_id:t.department?t.department.id:null}));return V("api/profiles/"+t.id,n,e)}}]),e}();ye.itemName="profile";var Ee=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"loadItems",value:function(e,t){return $("/api/account_operations?account_id="+t.id,e)}}]),e}();Ee.itemName="account_operation";var je={departments:me,donuts:he,regards:Oe,profiles:ye,account_log:Ee},xe="SHOW_MODAL",we="HIDE_MODAL",ke="RESULT_MODAL",Ce=n(174),Se=n.n(Ce),_e="CANCEL",Pe="EMPTY";function Ne(e,t){return{type:xe,modalName:e,body:t}}function De(){return console.log("HIDE_MODAL"),{type:we}}function Te(e){return{type:ke,result:e}}var Ie=function(){function e(){Object(D.a)(this,e)}return Object(T.a)(e,null,[{key:"loadUsers",value:function(e){return $("/api/profiles",e)}},{key:"sendPoints",value:function(e,t,n,a,r,o,i,c){return z("/api/account_operations",JSON.stringify({amount:t,to_profile_ids:a,from_profile_id:n,comment:r,is_for_distrib:o,share_for_all:i,burn_old:c}),e)}},{key:"loadEvents",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";return n.showMine&&(a+="&showMine=true"),$("/api/events?page="+t+a,e)}},{key:"loadEventWithComment",value:function(e,t){return $("/api/events/"+t,e)}},{key:"loadRegards",value:function(e){return $("/api/profile_assets",e)}},{key:"likeEvent",value:function(e,t){var n=JSON.stringify({like:!0});return V("/api/events/"+t.id,n,e)}},{key:"commentItem",value:function(e,t,n){var a=JSON.stringify({text:n});return""===n||void 0===n?Promise.reject("Can not be empty"):z("/api/events/"+t.id+"/comments",a,e)}}]),e}();function Fe(e,t){return function(n){var a={useToken:!0,action:"load",name:"events",apiFunction:Ie.loadEvents,args:[e,t]};return Qa(n,a).then((function(t){var a=t.events;void 0===a&&(a=[]),console.log(a),n(0==e||1==e?function(e,t,n,a,r){return{type:j,items:e,page:t,per_page:n,total:a,request_date:r}}(a,e,t.headers.get("per-page"),t.headers.get("total"),t.headers.get("request_date")):function(e,t,n,a,r){return{type:x,items:e,page:t,per_page:n,total:a,request_date:r}}(a,e,t.headers.get("per-page"),t.headers.get("total"),t.headers.get("request_date")))}))}}function Re(e,t){return function(n){var a={useToken:!0,action:"load",name:"EVENT",apiFunction:Ie.loadEventWithComment,args:[e]};return Qa(n,a).then((function(e){Za(n,_("EVENT"),{item:e.event}),void 0!==t&&void 0!==t.success&&t.success(n)}))}.bind(this)}function Ae(e,t){return function(n){var a={useToken:!0,action:"comment",name:"EVENT",apiFunction:Ie.commentItem,args:[e.item,e.comment],show_progress:!1};return Qa(n,a).then((function(e){Za(n,_("EVENT"),{item:e.event}),void 0!==t&&void 0!==t.success&&t.success(n)}))}.bind(this)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(){return function(e){var t={useToken:!0,action:"load",name:"users",apiFunction:Ie.loadUsers,args:[]};return Qa(e,t).then((function(t){var n=-1,a=t.profiles.map((function(e){return n++,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({user_id:t.included.users[n].id},t.included.users[n],{id:e.id},e)}));e(function(e){return{type:y,profiles:e}}(a))}))}}function Me(e,t,n,a,r,o,i){return function(c){var l={useToken:!0,action:"send",name:"point",apiFunction:Ie.sendPoints,args:[e,t,n,a,r,o,i]};return Qa(c,l).then((function(e){c({type:E}),null!==t&&c(Ha()),c(Fe(1))}))}}var He=n(11),Ue=n(10),We=n(12),ze=n(8),Ve=n(735),$e=n(736),Ge=function(e){return{root:{height:250},container:{display:"block"},button:{width:200,display:"flex",margin:"auto"},textField:{width:"auto",display:"flex",margin:5}}},qe=n(9),Je=n(318),Ke=n(319),Qe=n(734),Ye=n(733),Ze=n(732),Xe=n(35),et=n(766),tt=n(763),nt=n(731),at=n(722),rt=n(16),ot=n.n(rt),it=n(725),ct=n(724),lt=n(723),st=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},n.handleChange=function(e){return function(t){var a=t.target.value;a>n.props.maxValue&&(a=n.props.maxValue),a<n.props.minValue&&(a=n.props.minValue),n.setState(Object(I.a)({},e,a))}},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.measure,a=e.label,o=e.minValue,i=e.maxValue;return r.a.createElement(at.a,{className:ot()(t.margin,t.withoutLabel,t.textField),"aria-describedby":"input-helper-text"},r.a.createElement(lt.a,{id:a+Math.random(),value:this.state.value,onChange:this.handleChange("value"),endAdornment:r.a.createElement(ct.a,{position:"end"},n),inputProps:{"aria-label":{label:a}}}),r.a.createElement(it.a,{id:"{label}-helper-text"},a," from ",o," to ",i))}}]),t}(a.Component),ut=(Object(ze.a)((function(e){return{margin:{},withoutLabel:{},textField:{}}}))(st),n(328)),pt=n.n(ut),dt=n(371),mt=n(150);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=function(e){var t=e.InputProps,n=e.classes,a=e.ref,o=e.options,i=Object(Xe.a)(e,["InputProps","classes","ref","options"]);return console.log(e),r.a.createElement(et.a,Object.assign({disabled:o.disabled,InputProps:bt({inputRef:a,classes:{root:n.inputRoot,input:n.inputInput}},t)},i))},gt=n(730);var Ot=function(e){var t=e.suggestion,n=e.index,a=e.itemProps,o=e.highlightedIndex===n,i=e.selectedItem===t;return r.a.createElement(gt.a,Object.assign({},a,{key:t.id,selected:o,component:"div",style:{fontWeight:i?500:400}}),t.name)};var vt=function(e){return e?e.name:""};var yt=Object(ze.a)((function(e){return{container:{flexGrow:1,position:"relative",margin:0},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(2),left:0,right:0},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:e.spacing(2)}}}))((function(e){var t=e.classes,n=e.placeholder,a=e.source,o=e.input,i=e.touched,c=e.invalid,l=e.error,s=e.className,u=e.options;return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(dt.a,{itemToString:vt,onChange:function(e){o.onChange(e)},selectedItem:void 0!==u?u.initialValue:void 0,initialSelectedItem:void 0!==u?u.initialValue:void 0},(function(e){var p=e.getInputProps,d=e.getItemProps,m=e.getMenuProps,f=e.highlightedIndex,b=e.inputValue,h=e.isOpen,g=e.selectedItem;return r.a.createElement("div",null,r.a.createElement(ht,{fullWidth:!0,className:s,classes:t,options:u,InputProps:p({placeholder:n,touched:i,invalid:c,error:l,onFocus:o.onFocus,name:o.name})}),r.a.createElement("div",m(),h?r.a.createElement(mt.a,{className:t.paper,square:!0,elevation:2},function(e,t){if(void 0===e||!e||void 0==t)return[];var n=pt()(e.trim()).toLowerCase(),a=n.length,r=0;return 0===a?[]:t.filter((function(e){var t=r<5&&e.name.toLowerCase().includes(n);return t&&(r+=1),t}))}(b,a).map((function(e,t){return r.a.createElement(Ot,{key:e.id,suggestion:e,index:t,itemProps:d({item:e}),highlightedIndex:f,selectedItem:g})}))):null))})))})),Et=n(330);var jt,xt,wt,kt=function(e){var t,n=e.label,a=e.input,o=e.options,i=e.meta,c=i.touched,l=i.invalid,s=i.error,u=e.classes,p=void 0===u?{}:u,d=Object(Xe.a)(e,["label","input","options","meta","classes"]);return r.a.createElement(at.a,{className:ot()((t={},Object(I.a)(t,d.className,!0),Object(I.a)(t,p.formControl,!0),t))},r.a.createElement(et.a,Object.assign({id:n+Math.random().toString(),label:n,placeholder:n,error:c&&l},a,d,{disabled:void 0!==o&&o.disabled})),r.a.createElement(it.a,{id:n+"helper-text",className:d.className},r.a.createElement(qe.b,null,s)))},Ct=function(e){var t=e.label,n=e.input,a=e.options,o=e.meta,i=o.touched,c=o.invalid,l=o.error,s=Object(Xe.a)(e,["label","input","options","meta"]);return r.a.createElement(at.a,{className:s.className},r.a.createElement(et.a,Object.assign({id:t+Math.random().toString(),label:t,placeholder:t,type:"number",InputLabelProps:{shrink:!0},error:i&&c,disabled:void 0!==a&&a.disabled},n,s)),r.a.createElement(it.a,{id:t+"helper-text",className:s.className},r.a.createElement(qe.b,null,l)))},St=function(e){var t=e.label,n=e.input,a=e.options,o=e.meta,i=o.touched,c=o.invalid,l=o.error,s=Object(Xe.a)(e,["label","input","options","meta"]);return r.a.createElement(et.a,Object.assign({id:t+Math.random().toString(),label:t,placeholder:t,type:"date",error:i&&c,helperText:i&&l,InputLabelProps:{shrink:!0},disabled:void 0!==a&&a.disabled},n,s))},_t=function(e){var t=e.label,n=e.input,a=e.options,o=e.meta,i=(o.touched,o.invalid,o.error,Object(Xe.a)(e,["label","input","options","meta"]));return r.a.createElement("div",null,r.a.createElement(nt.a,{className:i.className,control:r.a.createElement(tt.a,{checked:!!n.value,onChange:n.onChange,disabled:void 0!==a&&a.disabled}),label:t}))},Pt=function(e){var t=e.label,n=e.input,a=e.options,o=e.meta,i=o.touched,c=o.invalid,l=o.error,s=Object(Xe.a)(e,["label","input","options","meta"]);return r.a.createElement(at.a,{className:s.className},r.a.createElement(lt.a,Object.assign({id:t+Math.random().toString(),label:t,error:i&&c,placeholder:Et.placeholder,value:n.value,onChange:n.onChange,endAdornment:r.a.createElement(ct.a,{position:"end"},s.measure),disabled:void 0!==a&&a.disabled},n,s,{inputProps:{"aria-label":{label:t}}})),r.a.createElement(it.a,{id:t+"helper-text",className:s.className}," ",r.a.createElement(qe.b,null,l)))},Nt=function(e){var t,n=e.label,a=e.input,o=e.meta,i=o.touched,c=o.invalid,l=o.error,s=e.options,u=e.classes,p=void 0===u?{}:u,d=Object(Xe.a)(e,["label","input","meta","options","classes"]);return r.a.createElement(at.a,{className:ot()((t={},Object(I.a)(t,d.className,d.className),Object(I.a)(t,p.formControl,void 0!==p),Object(I.a)(t,p.downshiftControl,void 0!==p),t))},r.a.createElement(yt,{id:n+Math.random(),label:n,placeholder:d.placeholder,error:i&&c,source:d.source,input:a,options:s||{},className:d.className}),r.a.createElement(it.a,{id:n+"helper-text",className:d.className},r.a.createElement(qe.b,null,l)))},Dt=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.handleSubmit,a=e.pristine,o=(e.reset,e.submitting),i=e.classes,c=e.min,l=e.max,s=e.label,u=e.measure,p=e.profiles,d=e.currentUserId;return jt=l,xt=c,wt=d,r.a.createElement("form",{onSubmit:n,className:i.container},r.a.createElement(Ze.a,{className:i.root},r.a.createElement("div",null,r.a.createElement(Je.a,{name:"point_amount",component:Pt,placeholder:t("Max donuts")+"  "+l,label:t(s),measure:t(u),min:c,max:l,className:i.textField})),r.a.createElement("div",null,r.a.createElement(Je.a,{name:"user",component:Nt,label:t("Users"),source:p,placeholder:t("start typing"),className:i.textField})),r.a.createElement("div",null,r.a.createElement(Je.a,{name:"comment",component:kt,label:t("Comment"),placeholder:t("Comment"),className:i.textField}))),r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,{type:"submit",disabled:a||o,color:"primary",autoFocus:!0},"Submit"),r.a.createElement(Qe.a,{onClick:this.props.onClose,color:"secondary"},"Close")))}}]),t}(a.Component);Dt=Object(Ke.a)({form:"ShareForm",validate:function(e){var t={};return e.point_amount&&isNaN(Number(e.point_amount))?t.point_amount="Must be number":e.point_amount&&Number(e.point_amount)%1>0?t.point_amount="Can not be decimal":e.point_amount&&(Number(e.point_amount)>jt||Number(e.point_amount)<xt)&&(t.point_amount="Should be more than "+xt+" and less than "+jt),e.user&&wt===e.user.id&&(t.user="Can not be the same as current user"),["point_amount","user","comment"].forEach((function(n){e[n]||(t[n]="Required")})),t}})(Dt);var Tt=Object(qe.d)()(Object(ze.a)(Ge)(Dt)),It=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e){console.log(e),n.props.onShare(e.point_amount,n.props.profile,e.user,e.comment),n.props.onClose()},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.dashboard;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{id:"modal_dialog"},r.a.createElement(qe.b,null,"Share dialog")),r.a.createElement(Tt,{onSubmit:this.submit,label:"Points",measure:"",min:0,max:t.distrib_balance,profiles:n.profiles,userChanged:this.userChanged,onClose:this.props.onClose,currentUserId:t.id}))}}]),t}(r.a.Component),Ft=Object(ze.a)(Ge)(Object($e.a)()(It)),Rt=Object(c.c)((function(e,t){return{modal:e.modal,authenticate:e.authenticate,onClose:t.onCloseModal,dashboard:e.dashboard,profile:e.profile}}),(function(e,t){return{onShare:function(t,n,a,r){e(Me(t,n.id,[a.id],r))},loadUsers:function(){e(Be())},enqueueSnackbar:function(t){e(Y(t))}}}))(Ft),At=n(107),Lt=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.pristine,a=e.submitting,o=e.classes;e.name;return console.log(this.props),r.a.createElement("form",{onSubmit:t,className:o.container},r.a.createElement(Ze.a,{className:o.root},r.a.createElement("div",null,r.a.createElement(Je.a,{name:"donut_name",component:kt,label:"name",className:o.textField})),r.a.createElement("div",null,r.a.createElement(Je.a,{name:"donut_price",component:Ct,label:"price",className:o.textField,placeholder:"price"})),r.a.createElement("div",null,r.a.createElement(Je.a,{name:"donut_expiration",component:St,label:"expiration",className:o.textField,placeholder:"expiration"}))),r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,{type:"submit",disabled:n||a,color:"primary",autoFocus:!0},"Submit"),r.a.createElement(Qe.a,{onClick:this.props.onClose,color:"secondary"},"Close")))}}]),t}(a.Component);Lt=Object(Ke.a)({form:"StoreItemForm",validate:function(e){var t={};return["donut_name","donut_price"].forEach((function(n){e[n]||(t[n]="Required")})),t}})(Lt);var Bt=Object(ze.a)(Ge)(Lt),Mt=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).submit=function(e){void 0===n.state.id?n.props.addItem({name:e.donut_name,price:e.donut_price}):n.props.updateItem({name:e.donut_name,price:e.donut_price,expiration_date:e.donut_expiration,id:n.state.id}),n.props.onClose()},n.submit=n.submit.bind(Object(At.a)(n)),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.modal;if(console.log(this.props),void 0!==e.body&&"NEW_STORE_ITEM"!==e.modalName){var t=e.body;this.setState({donut_name:t.name,donut_price:t.price,donut_expiration:t.expiration_date,id:t.id})}else this.setState({donut_name:"New donut",donut_expiration:"2030-01-01",donut_price:1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{id:"modal_dialog"},r.a.createElement(qe.b,null,"Store item")),r.a.createElement(Bt,{onSubmit:this.submit,onClose:this.props.onClose,initialValues:this.state}))}}]),t}(r.a.Component),Ht=Object(ze.a)(Ge)(Object($e.a)()(Mt)),Ut="STORE";function Wt(e){return function(t){return function(e,t){return new Promise((function(n,a){var r=Object(Ce.subscribe)("modal.result",(function(e){void 0!==e.modal.result&&(r(),e.modal.result==_e||e.modal.result==Pe?a(e.modal.result):n(e.modal.result))}));e(Ne("CONFIRM_DIALOG",t))}))}(t,r.a.createElement("div",null,"Remove item?")).then((function(n){!function(e,t){t.forEach((function(t){var n={useToken:!0,action:"remove",name:Ut,apiFunction:he.removeItem,args:[t.id]};return Qa(e,n).then((function(n){Za(e,P(Ut),{item:t})}))}))}(t,e)})).catch((function(e){console.log("CANCELED DELETE "+e)}))}}var zt=Object(c.c)((function(e,t){return{modal:e.modal,authenticate:e.authenticate,onClose:t.onCloseModal,dashboard:e.dashboard,profile:e.profile}}),(function(e,t){return{enqueueSnackbar:function(t){e(Y(t))},addItem:function(t){e(function(e){return function(t){var n={useToken:!0,action:"add",name:Ut,apiFunction:he.postItem,args:[e]};return Qa(t,n).then((function(e){Za(t,k(Ut),{item:e.donut})}))}}(t))},updateItem:function(t){e(function(e){return function(t){var n={useToken:!0,action:"update",name:Ut,apiFunction:he.updateItem,args:[e]};return Qa(t,n).then((function(e){Za(t,_(Ut),{item:e.donut})}))}}(t))}}}))(Ht),Vt=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).accept=function(e){e.preventDefault(),n.props.onAccept()},n.cancel=function(e){e.preventDefault(),n.props.onCancel()},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.body;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{id:"modal_dialog"},r.a.createElement(qe.b,null,"Confirmation dialog")),r.a.createElement(Ze.a,{className:t.root},n),r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,{onClick:this.accept,color:"primary",autoFocus:!0},"Submit"),r.a.createElement(Qe.a,{onClick:this.cancel,color:"secondary"},"Close")))}}]),t}(r.a.Component),$t=Object(ze.a)(Ge)(Object($e.a)()(Vt)),Gt=n(332),qt=n.n(Gt),Jt=n(333),Kt=n(86),Qt=n(31),Yt=n.n(Qt),Zt=n(737);var Xt=Yt()({grid:{padding:"0 15px 15px !important"}})((function(e){var t,n=Object(Kt.a)({},e),a=n.classes,o=n.children,i=n.className,c=Object(Xe.a)(n,["classes","children","className"]),l=ot()((t={},Object(I.a)(t,a.grid,!0),Object(I.a)(t,i,i),t));return r.a.createElement(Zt.a,Object.assign({item:!0},c,{className:l}),o)}));var en=Yt()({grid:{margin:"0 -15px !important",width:"unset"}})((function(e){var t=e.classes,n=e.children,a=Object(Xe.a)(e,["classes","children"]);return r.a.createElement(Zt.a,Object.assign({container:!0},a,{className:t.grid}),n)})),tn=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.body,a=t.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:function(t){return e.componentRef=t}},r.a.createElement(Ve.a,{id:"modal_dialog"},r.a.createElement(qe.b,null,"Your regard: ")," ",r.a.createElement(qe.b,null,n.title)),r.a.createElement(Ze.a,{className:a.root},r.a.createElement(en,null,r.a.createElement(Xt,{xs:6,sm:6,md:6},r.a.createElement("h3",null,r.a.createElement(qe.b,null,"Employee"),":",n.name),r.a.createElement("h3",null,r.a.createElement(qe.b,null,"Regard code"),":  ",n.public_uid||n.id)),r.a.createElement(Xt,{xs:6,sm:6,md:6},r.a.createElement(Jt.QRCode,{bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:140},value:n.public_uid||n.id}))))),r.a.createElement(Ye.a,null,r.a.createElement(qt.a,{trigger:function(){return r.a.createElement(Qe.a,{onClick:e.accept,color:"primary",autoFocus:!0},"Print ")},content:function(){return e.componentRef}}),r.a.createElement(Qe.a,{onClick:this.props.onCloseModal,color:"secondary"},"Close")))}}]),t}(r.a.Component),nn=Object(ze.a)(Ge)(Object($e.a)()(tn));function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},cn={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},ln={display:"inline-block",position:"relative",width:"100%",margin:"25px 0",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.14)",borderRadius:"3px",color:"rgba(0, 0, 0, 0.87)",background:"#fff"},sn={display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},un={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},pn=["#ff9800","#ffa726","#fb8c00","#ffa21a"],dn=["#f44336","#ef5350","#e53935","#f55a4e"],mn=["#4caf50","#66bb6a","#43a047","#5cb860"],fn=["#00acc1","#26c6da","#00acc1","#00d3ee","#E5F0FF"],bn=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],hn={boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"},gn=rn({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),On=rn({background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),vn=rn({background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),yn=rn({background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),En=rn({background:"linear-gradient(60deg, #388E3C, #A5D6A7)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),jn=rn({background:"linear-gradient(60deg, #FFB74D, #FFF3E0)"},hn),xn=rn({background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),wn=(rn({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},un),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba(0, 0, 0, 0.42), 0 3px 20px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),kn={color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}},Cn=(rn({},kn,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":rn({},kn,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],n=e[1],a=e[2];e=t+t+n+n+a+a}var r=(e=e.toUpperCase(e))[0]+e[1],o=e[2]+e[3],i=e[4]+e[5];return parseInt(r,16)+", "+parseInt(o,16)+", "+parseInt(i,16)}),Sn=function(e){var t;return{container:{display:"block",margin:"auto",height:"auto"},gridItem:{margin:0,padding:"0 15px 5px !important"},button:{color:"#2E7D32",display:"flex",margin:"auto"},infoButton:{color:fn[0]},primaryButton:{color:"#2E7D32"},warningButton:{color:pn[1]},input:{display:"none"},textField:{width:200,display:"flex",margin:"auto"},formControl:{height:40},downshiftControl:{marginTop:10,paddingBottom:"0px !important"},menu:{width:200},smField:{width:300},mdField:Object(I.a)({},e.breakpoints.up("md"),{width:400}),lgField:Object(I.a)({},e.breakpoints.up("xs"),{width:"calc(100% - ".concat(e.spacing(2),"px)"),height:"auto"}),okButton:{marginLeft:"auto",width:"auto",display:"flex",float:"right"},cancelButton:{display:"block",width:"auto",float:"right",color:bn[1]},image:Object(I.a)({display:"block",maxWidth:"95%",maxHeight:600,margin:"auto",padding:0},e.breakpoints.down("xs"),{width:200}),modalImage:(t={display:"block",maxWidth:"95%",margin:"auto",padding:0},Object(I.a)(t,e.breakpoints.up("xs"),{maxHeight:250}),Object(I.a)(t,e.breakpoints.up("sm"),{maxHeight:400}),Object(I.a)(t,e.breakpoints.up("md"),{}),t),label:{width:"auto",margin:0}}},_n=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"field_xs",value:function(e){return e.xs?e.xs:12}},{key:"field_sm",value:function(e){return e.sm?e.sm:this.field_xs(e)}},{key:"field_md",value:function(e){return e.md?e.md:this.field_sm(e)}},{key:"field_lg",value:function(e){return e.lg?e.lg:this.field_md(e)}},{key:"field_class",value:function(e,t){var n;return ot()((n={},Object(I.a)(n,t.textField,!0),Object(I.a)(n,t[e.size+"Field"],e.size),n))}},{key:"getComponent",value:function(){}},{key:"render",value:function(){var e,t,n=this,a=this.props,o=a.classes,i=a.t,c=a.submitCaption,l=a.fields,s=(a.columns,a.formId),u=a.color,p=a.cancelCaption,d=a.cancelable,m=a.detachedSubmit,f=a.initialValues,b=a.hasInitial,h=ot()((e={},Object(I.a)(e,o.button,!0),Object(I.a)(e,o.okButton,d),Object(I.a)(e,o[u+"Button"],u),e)),g=ot()((t={},Object(I.a)(t,o.button,!0),Object(I.a)(t,o.cancelButton,!0),t));return r.a.createElement("form",{onSubmit:this.props.handleSubmit,className:o.container},r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,className:o.gridItem},r.a.createElement(en,null,l.map((function(e){var t;return r.a.createElement(Xt,{key:e.name.concat("_key"),xs:n.field_xs(e),sm:n.field_sm(e),md:n.field_md(e),lg:n.field_lg(e),className:ot()((t={},Object(I.a)(t,o.gridItem,!0),Object(I.a)(t,o.downshiftControl,e.source),t))},e.image&&void 0!==f[e.name]&&r.a.createElement("img",{className:o.image,src:f[e.name].url,alt:"not found"}),!e.image&&n.renderField(e,s,i,o,b,f))})))),r.a.createElement(Xt,{xs:12},!m&&r.a.createElement("div",null,d&&r.a.createElement(Qe.a,{className:g,onClick:this.props.onCancel},r.a.createElement(qe.b,null,p||"Close")),r.a.createElement(Qe.a,{type:"submit",className:h},r.a.createElement(qe.b,null,c))))))}},{key:"renderField",value:function(e,t,n,a,o,i){var c;return c=e.checkbox?_t:e.source?Nt:kt,r.a.createElement(Je.a,{name:e.name,id:t.concat(e.name),label:n(e.label?e.label:e.name),placeholder:n(e.label?e.label:e.name),component:c,autoComplete:"off",className:this.field_class(e,a),classes:a,source:e.source,options:{initialValue:o?void 0!==i[e.name]?i[e.name]:"":void 0,disabled:e.disabled},multiline:!0,rows:e.rows})}}]),t}(a.Component),Pn=Object(ze.a)(Sn)(Object(qe.d)()(_n)),Nn=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e,t,n=this.props,a=n.classes,o=(n.t,n.submitCaption),i=(n.fields,n.formId),c=n.cancelable,l=n.cancelCaption,s=n.color,u=n.detachedSubmit,p=(Math.random(),Object(Ke.a)({form:i,enableReinitialize:!0})(Pn)),d=ot()((e={},Object(I.a)(e,a.button,!0),Object(I.a)(e,a.okButton,c),Object(I.a)(e,a[s+"Button"],s),e)),m=ot()((t={},Object(I.a)(t,a.button,!0),Object(I.a)(t,a.cancelButton,!0),t));return r.a.createElement("div",null,r.a.createElement(p,this.props),u&&r.a.createElement("div",null,c&&r.a.createElement(Qe.a,{className:m,onClick:this.props.onCancel},r.a.createElement(qe.b,null,l||"Close")),r.a.createElement(Qe.a,{type:"submit",className:d},r.a.createElement(qe.b,null,o))))}}]),t}(a.Component),Dn=Object(ze.a)(Sn)(Object(qe.d)()(Nn));function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var In=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){void 0!==this.props.onLoad&&this.props.onLoad()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(Pn,this.props)}}]),t}(r.a.Component),Fn=function e(t){var n=this;Object(D.a)(this,e),this.getForm=function(){var e=Object(Ke.a)(n.options.reduxForm)(In);return Object(c.c)(n.options.mapStateToProps,n.options.mapDispatchToProps)(e)};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{reduxForm:{form:"formid1",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(e){},mapDispatchToProps:function(e,t){},props:{},title:""},{},t)},Rn=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:function(t){return e.componentRef=t}},r.a.createElement(Ve.a,{id:"modal_dialog"},r.a.createElement(qe.b,null,n)),r.a.createElement(Ze.a,null,a)))}}]),t}(r.a.Component),An=function(e,t){return{onLoad:function(){var t=new La(je.profiles);e(t.loadItems())},onSubmit:function(n){var a=new La(je.departments);void 0!==n.id&&""!==n.id?e(a.updateItem(n)):e(a.addItem(n)),t.onCloseModal()}}},Ln=function(e){function t(e){var n;Object(D.a)(this,t),n=Object(He.a)(this,Object(Ue.a)(t).call(this,e));var a=new Fn({reduxForm:{form:"profile_settings",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(t){return{hasInitial:!0,initialValues:t.modal.body,formId:"department_form",fields:[{name:"name",size:"lg"},{name:"head_profile",label:"department chief",size:"lg",source:e.profiles.items}],submitCaption:"Save changes",cancelable:!0}},mapDispatchToProps:An,title:"New department"});return n.generatedForm=a.getForm(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.generatedForm;return r.a.createElement(Rn,{title:"Department"},r.a.createElement(e,this.props))}}]),t}(a.Component),Bn=Object(c.c)((function(e){return{dashboard:e.dashboard,profiles:e.profiles}}),An)(Ln),Mn=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.body,t.classes,t.title);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:function(t){return e.componentRef=t}},r.a.createElement(Ve.a,{id:"modal_dialog"},r.a.createElement(qe.b,null,n)),r.a.createElement(Ze.a,null,r.a.createElement(Dn,this.props))))}}]),t}(a.Component),Hn=(Object(ze.a)(Ge)(Object($e.a)()(Mn)),function(e){var t;return{image:Object(I.a)({display:"block",maxWidth:"95%",maxHeight:600,margin:"auto",padding:0},e.breakpoints.down("xs"),{width:200}),modalImage:(t={display:"block",maxWidth:"95%",margin:"auto",padding:0},Object(I.a)(t,e.breakpoints.up("xs"),{maxHeight:250}),Object(I.a)(t,e.breakpoints.up("sm"),{maxHeight:400}),Object(I.a)(t,e.breakpoints.up("md"),{}),t),caption:{textAlign:"center"}}}),Un=n(81),Wn=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).state={newLoaded:!1,preview:null},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"readFile",value:function(e){if(e&&e[0]){var t=new FormData;t.append("uploaded_image",e[0]),t.append("id",this.props.account.id),this.props.saveAvatar(t);var n=URL.createObjectURL(e[0]);this.setState({newLoaded:!0,preview:n})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.changeable;return r.a.createElement(r.a.Fragment,null,!this.state.newLoaded&&void 0!==this.props.account.user_avatar&&r.a.createElement("img",{className:n.image,src:this.props.account.user_avatar.url,alt:"not found"}),this.state.newLoaded&&r.a.createElement("img",{className:n.image,src:this.state.preview,alt:"not found"}),r.a.createElement(Un.a,{accept:"image/*",onDrop:function(t){return e.readFile(t)}},(function(e){var t=e.getRootProps,o=e.getInputProps;return r.a.createElement("section",null,a&&r.a.createElement("div",t(),r.a.createElement("input",o()),r.a.createElement("p",{className:n.caption},r.a.createElement(qe.b,null,"Click to select files"))))})))}}]),t}(r.a.Component),zn=Object(ze.a)(Hn)(Object(qe.d)()(Wn)),Vn=function(e,t){return{onLoad:function(){var t=new La(je.departments);e(t.loadItems())},onSubmit:function(n){if(!t.modal.body.disabled){var a=new La(je.profiles);void 0!==n.id&&""!==n.id?e(a.updateItem(n)):e(a.addItem(n))}t.onCloseModal()},saveAvatar:function(t){e(Wa(t))}}},$n=function(e){function t(e){var n;Object(D.a)(this,t),n=Object(He.a)(this,Object(Ue.a)(t).call(this,e));var a=new Fn({reduxForm:{form:"profile_edit",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(e){return{hasInitial:!0,initialValues:e.modal.body,formId:"profile_edit",fields:[{name:"email",label:"Email",size:"lg",md:12,disabled:e.modal.body.disabled},{name:"first_name",label:"Name",size:"lg",md:12,disabled:e.modal.body.disabled},{name:"last_name",label:"Surname",size:"lg",md:12,disabled:e.modal.body.disabled},{name:"department",source:n.props.departments.items,size:"lg",disabled:e.modal.body.disabled},{name:"position",label:"Position",size:"lg",disabled:e.modal.body.disabled},{name:"active",label:"Active",size:"lg",checkbox:!0,disabled:e.modal.body.disabled}],submitCaption:e.modal.body.disabled?"OK":"Save changes",cancelable:!e.modal.body.disabled}},mapDispatchToProps:Vn,title:"Profile"});return n.generatedForm=a.getForm(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.generatedForm,t=this.props,n=(t.classes,t.modal),a=t.profile;return r.a.createElement(Rn,{title:"Profile"},r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6},r.a.createElement(zn,{account:n.body,saveAvatar:this.props.saveAvatar,changeable:a.admin})),r.a.createElement(Xt,{xs:12,sm:6},r.a.createElement(e,this.props))))}}]),t}(a.Component),Gn=Object(ze.a)(Hn)(Object(c.c)((function(e){return{profile:e.profile,departments:e.departments}}),Vn)($n)),qn=function(e,t){return{onLoad:function(){},onSubmit:function(e){t.onCloseModal()}}},Jn=function(e){function t(e){var n;Object(D.a)(this,t),n=Object(He.a)(this,Object(Ue.a)(t).call(this,e));var a=new Fn({reduxForm:{form:"profile_preview",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(e){return{hasInitial:!0,initialValues:e.modal.body,formId:"profile_edit",fields:[{name:"user_name",label:"Name",md:12,size:"lg",disabled:!0},{name:"position",label:"Position",md:12,size:"lg",disabled:!0}],submitCaption:"OK",cancelable:!1}},mapDispatchToProps:qn,title:"Profile"});return n.generatedForm=a.getForm(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.generatedForm,t=this.props,n=t.classes,a=t.modal;return r.a.createElement(Rn,{title:"Profile"},r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6},void 0!==a.body.user_avatar&&r.a.createElement("img",{className:n.modalImage,src:a.body.user_avatar.url,alt:"not found"})),r.a.createElement(Xt,{xs:12,sm:6},r.a.createElement(e,this.props))))}}]),t}(a.Component),Kn=Object(ze.a)(Hn)(Object(c.c)((function(e){return{profile:e.profile,departments:e.departments}}),qn)(Jn)),Qn=n(741),Yn=n(742),Zn=n(743),Xn=n(744),ea=n(745),ta=n(739),na=n(683),aa=n(66),ra=n(338),oa=n.n(ra),ia=n(339),ca=n.n(ia),la=n(340),sa=n.n(la),ua=n(337),pa=n.n(ua),da=n(335),ma=n.n(da),fa=n(769),ba=n(310),ha=n(740),ga=n(738),Oa=Object(ba.a)((function(e){return{root:{},avatar:{backgroundColor:"white",color:ga.a[300]},userName:{fontWeight:400,paddingLeft:15}}})),va=function(e){var t,n=Oa(),a=ot()((t={},Object(I.a)(t,n.avatar,!0),Object(I.a)(t,e.className,e.className),t));return r.a.createElement(r.a.Fragment,null,null!==e.avatar_url&&r.a.createElement(ta.a,{onClick:e.onClick,component:"span",className:a,alt:e.alt,src:e.avatar_url}),null===e.avatar_url&&r.a.createElement(ta.a,{className:a},r.a.createElement(ha.a,null,"person_icon")),e.user_name&&r.a.createElement("span",{className:n.userName},e.user_name))},ya=function(e){return{card:{margin:"auto",maxWidth:700},cardHeader:{paddingBottom:5,marginBottom:5,position:"relative","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+Cn(bn[6])+", 0.3)"}},cardPrivate:{backgroundColor:fn[4]},liked:{color:fn[2]},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},dateCaption:{marginLeft:"auto"},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"white",color:fn[2]},avatarPrivate:{backgroundColor:fn[2]},bigAvatar:{margin:10,width:60,height:60},content:{padding:"0 10px 0 10px"},operationContainer:{padding:0,margin:0},operationText:{display:"inline-flex",margin:"auto 2px",padding:2,whiteSpace:"pre-wrap",wordBreak:"break-word"},smallAvatar:{width:28,height:28},amountText:{fontSize:20,fontWeight:"bold"},plusText:{color:mn[1]},minusText:{color:dn[1]},accountButton:{textTransform:"none",fontWeight:400,paddingLeft:0},flexLine:{flexGrow:1,height:1,marginTop:"0px",marginBottom:"0px",marginLeft:"10px",marginRight:"10px"}}},Ea=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:!1},n.handleExpandClick=function(){n.setState((function(e){return{expanded:!e.expanded}}))},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"click",value:function(){this.props.onProfileClick(this.props.post)}},{key:"userClick",value:function(e){this.props.onProfileClick(e)}},{key:"render",value:function(){var e,t,n,a=this.props,o=a.classes,i=a.post,c=a.t,l=a.commentable,s=a.likeable,u=(ot()((e={},Object(I.a)(e,o.avatar,!0),Object(I.a)(e,o.avatarPrivate,!i.public),e)),ot()((t={},Object(I.a)(t,o.operationText,!0),Object(I.a)(t,o.amountText,!0),Object(I.a)(t,o.plusText,i.operation&&i.operation.direction>0),Object(I.a)(t,o.minusText,i.operation&&i.operation.direction<0),t))),p=ot()((n={},Object(I.a)(n,o.card,!0),Object(I.a)(n,o.cardPrivate,!i.public),n)),d=ot()(Object(I.a)({},o.liked,i.liked)),m=null;void 0!==i.user_avatar&&null!==i.user_avatar&&(m=i.user_avatar.thumb.url);var f=r.a.createElement(Qe.a,{className:o.accountButton,onClick:this.click.bind(this)},i.user_name);return r.a.createElement(Qn.a,{className:p},r.a.createElement(Yn.a,{className:o.cardHeader,avatar:r.a.createElement(r.a.Fragment,null,i.public&&r.a.createElement(va,{onClick:this.click.bind(this),className:o.avatar,avatar_url:m,alt:i.user_name}),!i.public&&r.a.createElement(ta.a,{className:o.avatar},r.a.createElement(ma.a,null))),action:r.a.createElement(fa.a,{title:i.public?c("Profile"):c("Only you can see it")},r.a.createElement(na.a,{"aria-label":i.public?c("Profile"):c("Only you can see it")},!i.public&&r.a.createElement(pa.a,null))),title:i.public?f:"\u0421\u0435\u0440\u0432\u0438\u0441 \u0431\u043e\u0442",subheader:i.public&&i.position}),r.a.createElement(Zn.a,{className:o.content},i.operation&&r.a.createElement(Zt.a,{container:!0,className:o.operationContainer},r.a.createElement("span",{className:u}," ",-1===i.operation.direction?"-":"+",i.operation.amount,"  "),r.a.createElement("span",{className:o.operationText}," \u0434\u043b\u044f "),r.a.createElement(Qe.a,{className:o.accountButton,onClick:this.userClick.bind(this,i.operation.profile)},r.a.createElement(va,{className:o.smallAvatar,avatar_url:i.operation.profile.user_avatar.thumb.url,user_name:i.operation.profile.user_name}))),r.a.createElement(aa.a,{component:"p",className:o.operationText},i.operation&&i.public&&i.extra_content,(!i.operation||!i.extra_content)&&i.content)),r.a.createElement(Xn.a,{className:o.actions,disableSpacing:!0},(l||s)&&r.a.createElement(na.a,{"aria-label":"Add to favorites",onClick:this.props.onLikeEvent.bind(this,i),className:d},r.a.createElement(oa.a,null),i.likes.length>0&&i.likes.length),l&&r.a.createElement(na.a,{"aria-label":"Comment",onClick:this.props.onShowEventModal.bind(this,i)},r.a.createElement(ca.a,null),void 0!==i.comments_count&&0!==i.comments_count&&i.comments_count),i.extra_content&&r.a.createElement(na.a,{className:ot()(o.expand,Object(I.a)({},o.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},r.a.createElement(sa.a,null)),r.a.createElement(aa.a,{variant:"caption",component:"div",className:o.dateCaption},i.date_string)),r.a.createElement(ea.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(Zn.a,null,i.extra_content)))}}]),t}(r.a.Component),ja=Object(ze.a)(ya)(Object(qe.d)()(Ea)),xa=Object(c.c)((function(e,t){return{post:t.post,commentable:void 0===t.notModal||0==t.notModal,likeable:!0}}),(function(e,t){return{onProfileClick:function(t){e(Ne(Fa,{user_name:t.user_name,position:t.position,user_avatar:t.user_avatar,disabled:!0}))},onLikeEvent:function(n){e(function(e){return function(t){var n={useToken:!0,action:"update",name:"event",apiFunction:Ie.likeEvent,args:[e],show_progress:!1};return Qa(t,n).then((function(e){Za(t,_("EVENT"),{item:e.event})}))}}(n)),1==t.notModal&&e(Re(n.id))},onShowEventModal:function(t){e(Ne(Ra,{event:t}))},onComment:function(t,n){e(Ae(t,n))}}}))(ja),wa=Object(c.c)((function(e,t){return{post:t.post,commentable:!1}}),(function(e){return{onProfileClick:function(t){e(Ne(Fa,{user_name:t.user_name,position:t.position,user_avatar:t.user_avatar,disabled:!0}))},onLikeEvent:function(e){},onShowEventModal:function(e){},onComment:function(e,t){}}}))(ja),ka=n(39),Ca=n(746);var Sa=Object(ze.a)((function(e){return{progress:{color:e.palette.primary.A400,margin:"auto",height:"200px"},center:{margin:"auto",display:"flex",height:"200px",flexDirection:"column",alignItems:"center"},caption:{color:e.palette.primary.A400}}}))((function(e){var t=e.classes;return r.a.createElement("div",{className:t.center},r.a.createElement(Ca.a,{className:t.progress}),r.a.createElement(aa.a,{type:"Subheading",className:t.caption},e.waitingText))})),_a=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.system.isWaiting&&r.a.createElement(Sa,{waitingText:this.props.system.waitingText}))}}]),t}(r.a.Component),Pa=Object(c.c)((function(e){return{system:e.system}}))(_a),Na=function(e,t){return{loadEvent:function(t){e(Re(t))},onSubmit:function(n){var a;e(Ae({item:t.event,comment:n.text},(a="new_comment_form",{success:function(e,t){e(Y({message:"Comment saved",options:{variant:"success"}})),e(Object(ka.a)(a))}})))},onCancel:function(){t.onCloseModal()}}},Da=function(e){function t(e){var n;Object(D.a)(this,t),n=Object(He.a)(this,Object(Ue.a)(t).call(this,e));var a=new Fn({reduxForm:{form:"new_comment_form",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(e){return{hasInitial:!1,formId:"new_comment_form",fields:[{name:"text",label:"your comment",size:"lg",xd:12,rows:"4"}],submitCaption:"Send",cancelable:!0}},mapDispatchToProps:Na});return n.generatedForm=a.getForm(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){this.props.loadEvent(this.props.modal.body.event.id)}}]),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.modal),n=e.events,a=this.generatedForm,o=n.selected;return r.a.createElement(r.a.Fragment,null,(void 0===o||o.id!==t.body.event.id)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa,null)),void 0!==o&&o.id===t.body.event.id&&r.a.createElement(Rn,null,r.a.createElement(en,null,r.a.createElement(Xt,{xs:12},r.a.createElement(xa,{post:o})),r.a.createElement(Xt,{xs:12},r.a.createElement(a,{formId:"new_comment_form",onCloseModal:this.props.onCloseModal,event:o})),null!==o.comments&&o.comments.map((function(e,t){return r.a.createElement(Xt,{xs:12,key:t},r.a.createElement(wa,{post:e}))})))))}}]),t}(a.Component),Ta=Object(ze.a)(Hn)(Object(c.c)((function(e){return{events:e.events}}),Na)(Da)),Ia="EDIT_STORE_ITEM",Fa="PROFILE_PREVIEW",Ra="EVENT",Aa={SHARE_DIALOG:Rt,NEW_STORE_ITEM:zt,EDIT_STORE_ITEM:zt,CONFIRM_DIALOG:$t,REGARDS_PRINT:nn,EDIT_DEPARTMENT:Bn,PROFILE_EDIT:Gn,PROFILE_PREVIEW:Kn,EVENT:Ta},La=function(){function e(t){Object(D.a)(this,e),this.nameUpper=t.itemName.toUpperCase(),this.nameLower=t.itemName.toLowerCase(),this.api=t}return Object(T.a)(e,[{key:"loadItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){var n=this,a={useToken:!0,action:"load",name:R.a.plural(this.api.itemName),apiFunction:this.api.loadItems,args:[e]};return Qa(t,a).then((function(e){var a=e[R.a.plural(n.nameLower)];void 0===a&&(a=[]),Za(t,w(R.a.plural(n.nameUpper)),{items:a},(function(){return{items:[]}}))}))};return t.bind(this)}},{key:"addItem",value:function(e){return function(t){var n=this,a={useToken:!0,action:"add",name:this.api.itemName,apiFunction:this.api.addItem,args:[e]};return Qa(t,a).then((function(e){Za(t,k(n.nameUpper),{item:e[n.nameLower]})}))}.bind(this)}},{key:"updateItem",value:function(e,t){return function(n){var a=this,r={useToken:!0,action:"update",name:this.api.itemName,apiFunction:this.api.updateItem,args:[e]};return Qa(n,r).then((function(e){Za(n,_(a.nameUpper),{item:e[a.nameLower]}),void 0!==t&&void 0!==t.success&&t.success(n)}))}.bind(this)}},{key:"commentItem",value:function(e,t){return function(n){var a=this,r={useToken:!0,action:"comment",name:this.api.itemName,apiFunction:this.api.commentItem,args:[e.item,e.comment]};return Qa(n,r).then((function(e){Za(n,_(a.nameUpper),{item:e[a.nameLower]}),void 0!==t&&void 0!==t.success&&t.success(n)}))}.bind(this)}},{key:"deleteItem",value:function(e){return function(t){var n=this,a={useToken:!0,action:"delete",name:this.api.itemName,apiFunction:this.api.updateItem,args:[e]};return Qa(t,a).then((function(e){Za(t,P(n.nameUpper),{item:e[n.nameLower]})}))}.bind(this)}}]),e}();function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ha(){return function(e){return Qa(e,{apiFunction:pe.getProfile,args:[],name:"profile",action:"load"}).then((function(t){var n=Ma({user_id:t.included.users[0].id},t.included.users[0],{},t.profile);Za(e,w("PROFILE"),{item:n},(function(){return{user_not_found:!0}})),e(za(t.profile.self_account.id)),e(Va(t.profile.distrib_account.id))}))}}function Ua(e){return function(t){var n={useToken:!0,action:"confirm",name:"email",apiFunction:pe.confirmEmail,args:[e]};return Qa(t,n).then((function(e){t(function(e,t){return{type:ie,user:e,token:t}}(e.user,e.auth_token)),t(Y({message:"Email confirmed",options:{variant:"success"}}))}))}}function Wa(e){return function(t){var n={useToken:!0,action:"save",name:"AVATAR",apiFunction:pe.saveAvatar,args:[e]};return Qa(t,n).then((function(e){Za(t,"SAVE_AVATAR_SUCCESS",{})}))}}function za(e){return function(t){var n={useToken:!0,action:"load",name:"self_balance",apiFunction:pe.loadSelfBalance,args:[e]};return Qa(t,n).then((function(e){return t((n=e.account,{type:ne,account:n}));var n}))}}function Va(e){return function(t){var n={useToken:!0,action:"load",name:"distrib_balance",apiFunction:pe.loadSelfBalance,args:[e]};return Qa(t,n).then((function(e){return t((n=e.account,{type:re,account:n}));var n}))}}var $a={5e3:{caption:"Email not confirmed",actions:[{action:function(e){if(void 0!==e){var t=e.email;if(void 0!==t)return function(e){var n={useToken:!1,action:"SEND",name:"CONFIRM_EMAIL",apiFunction:pe.sendConfirmEmail,args:[t]};return Qa(e,n).then((function(t){Za(e,"CONFIRM_EMAIL_SENT",{},(function(){return{user_not_found:!0}})),e(Y({message:"Confirm email was sent",options:{variant:"success"}}))}))}}},actionText:"Send again"}]}};function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ja(e){return{type:f,text:e}}function Ka(){return{type:b}}function Qa(e,t){var n=qa({},{useToken:!0,action:"load",name:"",apiFunction:void 0,args:[],show_progress:!0},{},t),a=N(n.action,n.name,"start"),r=N(n.action,n.name,"end"),o=N(n.action,n.name,"failed");if(void 0===n.apiFunction)throw new Error("apiFunction is not defined");return n.show_progress&&e(Ja("Loading "+n.name)),n.show_progress&&e({type:a}),new Promise((function(t,a){var i=H.getToken();(n.useToken?n.apiFunction.apply(n,[i].concat(Object(J.a)(n.args))):n.apiFunction.apply(n,Object(J.a)(n.args))).then((function(a){if(a.unauthorized&&e(er()),a.error){var i,c;console.log(a),e((s=a.errorText,{type:h,errorText:s}));var l=a.errorCode;void 0!==l&&(i=$a[l]),void 0!==i&&(c={caption:i.actions[0].actionText,onClick:function(){e(i.actions[0].action(a.errorParams))}}),e(Y({message:a.errorText,options:{variant:"error"},action:c})),e(Ya(o,a.errorText)),n.show_progress&&e(Ka()),e({type:r})}else t(a),n.show_progress&&e(Ka()),e({type:r});var s})).catch((function(t){console.log(t),e(Y({message:"Something went wrong.",message2:t,options:{variant:"error"}})),e(Ya(o,t)),a()}))}))}function Ya(e){return qa({type:e,error:!0,errorText:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""},(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return{}})())}function Za(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return{}};if(void 0!==t&&void 0!==n)e(function(e,t){return qa({type:e},t)}(t,n));else{e(Ya(t,"Result is empty",a)),e(Y({message:"Result is empty",options:{variant:"info"}}))}}function Xa(e,t){return function(n){var a={useToken:!1,action:"AUTHENTICATE",name:void 0,apiFunction:q.authenticate,args:[e,t]};return Qa(n,a).then((function(t){localStorage.setItem("auth_token",t.auth_token),localStorage.setItem("tenant",t.tenant),n(nr(t.auth_token,e)),n(Ha())}))}}function er(){return function(e){localStorage.removeItem("auth_token"),e({type:u})}}function tr(){return function(e){var t=localStorage.getItem("auth_token");e(t?nr(t):ar())}}function nr(e,t){return{type:l,token:e,username:t}}function ar(){return{type:s}}function rr(e){return function(t){return localStorage.setItem("tenant",e.tenant.name),q.register(e).then((function(e){var n;t((n=e.user,{type:d,success:!0,user:n})),t(Y({message:e.user.name+" ",message2:"created",options:{variant:"success"}})),t(Y({message:"Please confirm your email",options:{variant:"info"}}))})).catch((function(e){t({type:m,success:!1})}))}}var or=n(341),ir=n(50),cr=n(63),lr=n(27),sr=n(234),ur=n(342),pr=n.n(ur),dr=n(320);function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return fr({},e,{list:[].concat(Object(J.a)(e.list),[t.errorText]),activeError:!0});case g:return fr({},e.filter((function(e,n){return n!==t.index})));case O:return{list:[]};default:return e}}function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{authenticated:!0,username:t.username,token:t.token};case s:return{authenticated:!1};case u:return{authenticated:!1,username:null,token:null};case d:return{authenticated:!1,confirmed:!1,registered:!0,email:t.user.email};case m:return{authenticated:!1,registered:!1,email:null};case p:return{authenticated:!1,registered:!1,confirmed:!1,email:null};default:return e}}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{profiles:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Or({},e,{profiles:t.profiles});case v:return Or({},e,{profiles:[]});case u:return{profiles:[]};default:return e}}function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{waitingText:null,isWaiting:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Er({},e,{waitingText:t.text,isWaiting:!0});case b:return Er({},e,{waitingText:null,isWaiting:!1});default:return e}}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1,self_balance:0,distrib_balance:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return wr({},e,{},t.item,{user_not_found:t.user_not_found,loaded:!0});case ee:return wr({},e,{user_not_found:t.user_not_found});case te:return console.log(t),wr({},e,{},t.profile,{loaded:!0});case ne:return wr({},e,{self_balance:t.account.balance});case ie:return wr({},e,{confirmed:!0});case ce:return wr({},e,{confirmed:!1});case ae:return wr({},e,{self_balance:0});case re:return wr({},e,{distrib_balance:t.account.balance});case oe:return wr({},e,{distrib_balance:0});case w("CURRENT_TENANT"):return wr({},e,{tenant_loaded:!0,tenant:t.tenant});case S("CURRENT_TENANT"):return wr({},e,{tenant:{},tenant_loaded:!1});default:return e}}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1,isLoading:!1,data:{loaded:!0}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Sr({},e,{data:Sr({},e.data,{},t.item,{user_not_found:t.user_not_found,loaded:!0})});case se:return Sr({},e,{user_not_found:t.user_not_found,loaded:!1});case ue:return console.log(t),Sr({},e,{data:Sr({},e.data,{},t.profile,{user_not_found:t.user_not_found,loaded:!0})});case N("load","account","start"):return Sr({},e,{isLoading:!0});case N("load","account","end"):return Sr({},e,{isLoading:!1});case N("save","account","start"):return Sr({},e,{isLoading:!0});case N("save","account","end"):return Sr({},e,{isLoading:!1});default:return e}}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1,modalName:null,body:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return{show:!0,modalName:t.modalName,body:t.body};case we:return{show:!1,modalName:null,body:null};case ke:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{result:t.result});default:return e}}function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir={notifications:[]};function Fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENQUEUE_SNACKBAR":return Tr({},e,{notifications:[].concat(Object(J.a)(e.notifications),[Tr({},t.notification)])});case"REMOVE_SNACKBAR":return Tr({},e,{notifications:e.notifications.filter((function(e){return e.key!==t.key}))});default:return e}}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lr={items:[],page:0};function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t.type){case w(R.a.plural(n)):return Ar({},e,{},t,{items:t.items,max_id:void 0!==t.items&&t.items.length>0?t.items[0].id:null});case k(n):case k(R.a.plural(n)):var a=Ar({},e,{},t,{items:e.items});return void 0!==t.items&&(a=Ar({},a,{items:a.items.concat(t.items)})),void 0!==t.item&&(a=Ar({},a,{items:[].concat(Object(J.a)(a.items),[t.item])})),a;case S(n):return Ar({},e);case _(n):var r=e.items.map((function(e){return e.id===t.item.id?t.item:e}));return console.log(r),0===r.length&&(r.push(t.item),console.log(r)),Ar({},e,{items:r,selected:t.item});case P(n):return Ar({},e,{items:e.items.filter((function(e,n,a){return t.item.id!==e.id}))});case C(n):return Ar({},e,{loadedItem:t.item});case function(e){return"LOAD_"+e.toUpperCase()+"ITEM_FAILED"}(n):return Ar({},e,{loadItem:void 0});case s:case u:return Ar({},Lr);default:return e}}var Mr=function(e){return Object(lr.combineReducers)({router:Object(ir.b)(e),errors:br,authenticate:hr,dashboard:vr,system:jr,profile:kr,account:_r,modal:Nr,notifier:Fr,events:Hr(Br,"EVENT"),store:Hr(Br,"STORE"),regards:Hr(Br,"REGARD"),departments:Hr(Br,"DEPARTMENT"),profiles:Hr(Br,"PROFILE"),donuts:Hr(Br,"DONUT"),account_operations:Hr(Br,"ACCOUNT_OPERATION"),form:dr.a})};function Hr(e,t){return function(n,a){return e(n,a,t)}}var Ur=n(344),Wr=n(345),zr=n(313),Vr=n(346),$r=n.n(Vr),Gr=(n(632),n(347)),qr=n.n(Gr)()(),Jr={key:"root",storage:pr.a,whitelist:["dashboard"],stateReconciler:$r.a},Kr=Object(sr.a)(Jr,Mr(qr)),Qr=Object(zr.a)(qr),Yr=Object(lr.createStore)(Kr,{dashboard:{},events:{items:[],page:0},store:{items:[],page:0},regards:{items:[],page:0}},Object(Wr.composeWithDevTools)(Object(lr.applyMiddleware)(Qr),Object(lr.applyMiddleware)(Ur.a))),Zr=(Se()(Yr),Object(sr.b)(Yr));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xr=n(172),eo=n(611),to=n(758),no=n(750);function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oo=function(e){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:"#555555",border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:ro({},cn,{minHeight:"50px"}),flex:{flex:1},title:ro({},un,{lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),logo:{height:50},appResponsive:{top:"8px"},primary:ro({backgroundColor:"#2E7D32",color:"#FFFFFF"},wn),info:ro({backgroundColor:fn,color:"#FFFFFF"},wn),success:ro({backgroundColor:mn,color:"#FFFFFF"},wn),warning:ro({backgroundColor:pn,color:"#FFFFFF"},wn),danger:ro({backgroundColor:dn,color:"#FFFFFF"},wn)}},io=n(364),co=n.n(io),lo=n(370),so=n(363),uo=n.n(so),po=n(348),mo=n.n(po),fo=n(357),bo=n.n(fo),ho=n(147),go=n.n(ho),Oo=n(144),vo=n.n(Oo),yo=n(358),Eo=n.n(yo),jo=n(360),xo=n.n(jo),wo=n(359),ko=n.n(wo),Co=n(362),So=n.n(Co),_o=n(361),Po=n.n(_o),No=n(356),Do=n.n(No),To=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{onSubmit:this.props.handleSubmit,className:e.container},r.a.createElement(Je.a,{name:"username",component:kt,label:"Username",placeholder:"your email",className:e.textField,id:"username"}),r.a.createElement("br",null),r.a.createElement(Je.a,{name:"password",id:"password",label:"Password",component:kt,type:"password",autoComplete:"current-password",className:e.textField}),r.a.createElement("br",null),r.a.createElement(Qe.a,{type:"submit",className:e.button,color:"primary"},r.a.createElement(qe.b,null,"Log in")),r.a.createElement(Qe.a,{className:e.button,onClick:this.props.recoverToggle,color:"secondary"},r.a.createElement(qe.b,null,"Recover password")))}}]),t}(a.Component);To=Object(Ke.a)({form:"login"})(To);var Io=Object(ze.a)(Sn)(Object(qe.d)()(To)),Fo=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t;return r.a.createElement("form",{onSubmit:this.props.handleSubmit,className:t.container},r.a.createElement(Je.a,{name:"email",id:"recover_email",label:n("email"),component:kt,type:"email",autoComplete:"off",className:t.textField}),r.a.createElement("br",null),r.a.createElement(Qe.a,{type:"submit",className:t.button,color:"primary"},r.a.createElement(qe.b,null,"Change password")))}}]),t}(a.Component);Fo=Object(Ke.a)({form:"recover"})(Fo);var Ro=Object(ze.a)(Sn)(Object(qe.d)()(Fo)),Ao=n(46),Lo=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).submit=function(e){n.props.actions.onLogin(e.username,e.password)},n.recoverModeToggle=function(){n.setState({recoverMode:!n.state.recoverMode})},n.sendRecoverEmail=function(e){n.props.actions.onRecoverPassword(e.email)},n.state={recoverMode:!1},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return this.state.recoverMode?r.a.createElement("div",null,r.a.createElement(Ro,{onSubmit:this.sendRecoverEmail})):r.a.createElement("div",null,r.a.createElement(Io,{onSubmit:this.submit,recoverToggle:this.recoverModeToggle.bind(this),authenticate:this.props.authenticate}))}}]),t}(a.Component),Bo=Object(c.c)((function(e){return{authenticate:e.authenticate,modal:e.modal}}),(function(e){return{actions:{onLogin:function(t,n){e(Xa(t,n))},hideModal:function(){e(De)},onRecoverPassword:function(t){e(function(e){return function(t){var n={useToken:!0,action:"RECOVER",name:"PASSWORD",apiFunction:pe.requestNewPassword,args:[e]};return Qa(t,n).then((function(e){Za(t,"PASSWORD_RECOVER",{},(function(){return{user_not_found:!0}})),t(Y({message:"Recovery email was sent",options:{variant:"success"}}))}))}}(t)),e(Object(Ao.d)("/"))}}}}))(Lo),Mo=(n(764),n(747),function(e){return q.validateEmail(e.email).then((function(e){if(!e.valid)throw{email:"That email is taken"}}))}),Ho=function(e){return{container:{display:"block"},content:{maxWidth:600,margin:"0 auto",display:"flex"},checkBox:{width:200},button:{width:200,display:"flex",margin:"auto",padding:0},cancelButton:{maxWidth:200,display:"flex",margin:"auto",textAlign:"left",padding:0,color:bn[0]},textField:{width:250,display:"flex",margin:"auto"},caption:{marginTop:5}}},Uo=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"onReset",value:function(){this.props.onReset(),this.props.reset()}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.pristine,a=e.submitting,o=e.classes,i=e.authenticate;return i.registered&&!i.confirmed?r.a.createElement("div",null,r.a.createElement(aa.a,{variant:"h6",align:"center",color:"textPrimary",gutterBottom:!0},r.a.createElement(qe.b,null,"Confirmation email was sent to")," ",i.email)):r.a.createElement("form",{onSubmit:t,className:o.container},r.a.createElement("div",null,r.a.createElement(Je.a,{name:"first_name",component:kt,label:"First Name",className:o.textField})),r.a.createElement("div",null,r.a.createElement(Je.a,{name:"last_name",component:kt,label:"Last Name",className:o.textField})),r.a.createElement("div",null,r.a.createElement(Je.a,{name:"email",component:kt,label:"Email",className:o.textField})),r.a.createElement("div",null,r.a.createElement(Je.a,{name:"password",component:kt,label:"Password",type:"password",className:o.textField})),r.a.createElement("br",null),r.a.createElement(Qe.a,{type:"submit",disabled:n||a,className:o.button,color:"primary"},"Submit"),r.a.createElement(Qe.a,{type:"button",disabled:n||a,onClick:this.onReset.bind(this),className:o.button},"Clear Values"))}}]),t}(a.Component);Uo=Object(Ke.a)({form:"RegisterForm",validate:function(e){var t={};return["first_name","last_name","email","password"].forEach((function(n){e[n]||(t[n]="Required")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t},asyncValidate:Mo})(Uo);var Wo=Object(ze.a)(Ho)(Object(qe.d)()(Uo));function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Vo=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).submit=function(e){n.setState({values:e});var t=e.email.replace(/.*@/,"");n.props.onFindTenant(t)},n.reset=function(e){n.setState({values:{}}),n.props.onReset()},n.register=function(){n.props.onRegister(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state.values,{tenant:n.props.profile.tenant}))},n.state={values:{}},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){this.props.newRegister()}},{key:"render",value:function(){var e=this.props,t=e.authenticate,n=e.profile,a=e.classes;return!t||t.authenticated||t.registered?r.a.createElement("div",null,r.a.createElement(cr.a,{to:"/"})):r.a.createElement("div",{className:a.container},n.tenant_loaded&&r.a.createElement("div",{className:a.content},r.a.createElement(aa.a,{variant:"button",className:a.caption}," ",n.tenant.caption),r.a.createElement(Qe.a,{className:a.button,variant:"outlined",color:"primary",onClick:this.register},r.a.createElement(aa.a,{variant:"button"},r.a.createElement(qe.b,null,"Connect to space"))),r.a.createElement(Qe.a,{className:a.cancelButton,variant:"outlined",onClick:this.reset},r.a.createElement(aa.a,{variant:"button"},r.a.createElement(qe.b,null,"Cancel")))),!n.tenant_loaded&&r.a.createElement(Wo,{onSubmit:this.submit,onReset:this.reset,authenticate:this.props.authenticate,profile:this.props.profile}))}}]),t}(a.Component),$o=Object(ze.a)(Ho)(Object(qe.d)()(Vo)),Go=Object(c.c)((function(e){return{authenticate:e.authenticate,profile:e.profile}}),(function(e){return{onRegister:function(t){e(rr(t))},onFindTenant:function(t){e(function(e){return function(t){var n={useToken:!1,action:"load",name:"CURRENT_TENANT",apiFunction:de.loadTenantByDomain,args:[e]};return Qa(t,n).then((function(e){Za(t,w("CURRENT_TENANT"),{tenant:e.tenant})}))}}(t))},onReset:function(t){e({type:S("CURRENT_TENANT")})},newRegister:function(){e({type:p})}}}))($o);function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ko=function(e){return{placeholder:{height:"30px"},card:Jo({},ln),flexContainer:Jo({},sn),flexLine:{flexGrow:1,height:1,marginLeft:"10px",marginRight:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{marginBottom:16,fontSize:14,color:e.palette.text.secondary},pos:{marginBottom:12,color:e.palette.text.secondary},button:{margin:"auto"},logo:Object(I.a)({textAlign:"center",display:"block",maxWidth:"95%",maxHeight:300,margin:"auto",padding:0},e.breakpoints.down("xs"),{width:200}),dashboardToolbar:{padding:0},dashboardPath:{flex:1,height:50,margin:0,padding:0},dashboardMenu:{height:50,margin:0,padding:0},dashboardMenuItem:{height:50,padding:0,margin:0},inlineBlock:{display:"inline-block",margin:0,padding:0,minWidth:0,textTransform:"none"}}},Qo=n(96),Yo=n.n(Qo),Zo=n(748);Object(ze.a)((function(e){return{fabsContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"}}}),{withTheme:!0})((function(e){var t=e.classes,n=e.fabs,a=e.theme,o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen};return r.a.createElement("div",{className:t.fabsContainer},n.map((function(e,t){return r.a.createElement(Zo.a,{key:t,in:!0,timeout:o,style:{transitionDelay:"".concat(0,"ms")},unmountOnExit:!0},r.a.createElement(Qe.a,{variant:"extendedFab",className:e.className,color:e.color,onClick:e.onClick},e.icon,e.caption))})))}));var Xo=n(349),ei=n.n(Xo),ti=n(350),ni=n.n(ti);function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oi=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.title,a=e.lastUpdate,o=e.balance,i=e.shareable,c=e.shopable,l=e.t,s=e.profile;return r.a.createElement(Qn.a,{className:t.card},r.a.createElement(Zn.a,null,r.a.createElement(aa.a,{className:t.title,color:"textSecondary",gutterBottom:!0},l(n)),r.a.createElement(aa.a,{variant:"h5",component:"h2"},o," ",i&&l("donut",{count:o}),c&&l("point",{count:o})),r.a.createElement(aa.a,{className:t.pos,color:"textSecondary"},a)),r.a.createElement(Xn.a,null,r.a.createElement(Qe.a,{size:"small",onClick:this.props.onHistory.bind(this,s)},l("Details")),o>0&&i&&r.a.createElement(Qe.a,{size:"small",color:"primary",onClick:this.props.onShare},l("Share"),r.a.createElement(ei.a,{className:ot()(t.rightIcon,t.iconSmall)})),o>0&&c&&r.a.createElement(Qe.a,{size:"small",color:"primary",onClick:this.props.onRedirectToStore},l("Go to shop"),r.a.createElement(ni.a,{className:ot()(t.rightIcon,t.iconSmall)}))))}}]),t}(a.Component),ii=Object(ze.a)((function(e){return{card:ri({},ln,{minWidth:"275px"}),title:{fontSize:14},pos:{marginBottom:12},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(2)},rightIcon:{marginLeft:e.spacing(2)},iconSmall:{fontSize:20}}}))(Object(qe.d)()(oi)),ci=Object(c.c)((function(e){return{authenticate:e.authenticate,profile:e.profile,balance:e.profile.self_balance,title:"Self account",shareable:!1,shopable:!0}}),(function(e){return{getBalance:function(t){e(za(t.id))},onShop:function(){},onRedirectToStore:function(){e(Object(Ao.d)("donuts"))},onHistory:function(t){e(Object(Ao.d)("/account/"+t.self_account.id))}}}))(ii),li=Object(c.c)((function(e){return{authenticate:e.authenticate,profile:e.profile,balance:e.profile.distrib_balance,title:"Distrib account",shareable:!0,shopable:!1}}),(function(e,t){return{getBalance:function(t){e(Va(t.id))},onShare:function(){e(Ne("SHARE_DIALOG",{}))},onHistory:function(t){e(Object(Ao.d)("/account/"+t.distrib_account.id))}}}))(ii),si=n(2),ui=n.n(si),pi=function(e){return{}},di=n(684),mi=n(749);function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var bi=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).handleChange=function(e){return function(t){n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,Object(I.a)({},e,t.target.checked)),(function(){n.props.onFilter(n.state)}))}},n.state={showMine:!1},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.t;return r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6,md:4,lg:3},r.a.createElement(di.a,{row:!0},r.a.createElement(nt.a,{control:r.a.createElement(mi.a,{checked:this.state.showMine,onChange:this.handleChange("showMine"),value:"showMine",inputProps:{"aria-label":"secondary checkbox"}}),label:e("Show only mine")}))))}}]),t}(a.Component),hi=Object(ze.a)(pi)(Object(qe.d)()(bi));function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vi=function(e){return{flexContainer:Oi({},sn),button:{margin:"auto"}}};function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ji=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).loadMore=function(){console.log(n.state),n.props.loadEvents(n.props.events.page+1,n.state.filter)},n.state={filter:{showMine:!1}},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){0==this.props.events.page&&this.props.loadEvents(this.props.events.page+1)}},{key:"componentWillUnmount",value:function(){}},{key:"filter",value:function(e){this.setState({filter:Ei({},e)}),this.props.reloadEvents(e)}},{key:"render",value:function(){var e=this.props,t=e.events,n=e.classes,a=t.items;return r.a.createElement(r.a.Fragment,null,r.a.createElement(hi,{onFilter:this.filter.bind(this)}),r.a.createElement(en,null,r.a.createElement(Pa,null),void 0!==a&&a.map((function(e,t){return r.a.createElement(Xt,{xs:12,sm:12,md:6,lg:4,key:t},r.a.createElement(xa,{post:e}))}))),r.a.createElement(Ye.a,null,(t.page+1)*t.per_page<t.total&&r.a.createElement(Qe.a,{className:n.button,onClick:this.loadMore,color:"primary"},r.a.createElement(qe.b,null,"More"))))}}]),t}(a.Component);ji.props={reloadEvents:ui.a.func.isRequired,loadEvents:ui.a.func.isRequired};var xi=Object(ze.a)(vi)(Object(qe.d)("translations")(ji)),wi=Object(c.c)((function(e){return{authenticate:e.authenticate,profile:e.profile,events:e.events}}),(function(e){return{loadEvents:function(t,n){console.log(n),e(Fe(t,n))},reloadEvents:function(t){e(Fe(0,t))}}}))(xi),ki=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={},n.loadMore=function(){n.props.loadEvents(n.props.page+1)},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){0==this.props.page&&this.props.loadEvents(this.props.page+1)}},{key:"doNut",value:function(){}},{key:"reloadEvents",value:function(e){this.props.reloadEvents(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.profile;e.t,t.fab,r.a.createElement(Yo.a,null),this.doNut.bind(this),t.fab,r.a.createElement(Yo.a,null),this.doNut.bind(this);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:t.flexContainer},r.a.createElement("hr",{className:t.flexLine}),r.a.createElement("section",null,r.a.createElement(qe.b,null,"Balance")),r.a.createElement("hr",{className:t.flexLine})),r.a.createElement(en,null,void 0!==n.logo&&void 0!=n.logo.url&&null!=n.logo.url&&r.a.createElement(Xt,{xs:12,sm:12,md:12,className:t.logo},r.a.createElement("img",{className:t.logo,src:n.logo.url})),r.a.createElement(Xt,{xs:12,sm:6,md:6},void 0!==n&&void 0!==n.self_account&&r.a.createElement(ci,null)),r.a.createElement(Xt,{xs:12,sm:6,md:6},void 0!==n&&void 0!==n.distrib_account&&r.a.createElement(li,null))),r.a.createElement("div",{className:t.flexContainer},r.a.createElement("hr",{className:t.flexLine}),r.a.createElement("section",null,r.a.createElement(qe.b,null,"Events")),r.a.createElement("hr",{className:t.flexLine})),r.a.createElement(wi,null)))}}]),t}(a.Component);ki.props={};var Ci=Object(ze.a)(Ko)(Object(qe.d)("translations")(ki)),Si=function(e){function t(e){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).call(this,e))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return this.props.authenticate.authenticated?r.a.createElement("div",null,r.a.createElement(Ci,{onRequestUser:this.props.onRequestUser,profile:this.props.profile,getDistribBalance:this.props.getDistribBalance,getSelfBalance:this.props.getSelfBalance})):r.a.createElement("div",null,r.a.createElement(cr.a,{to:"/"}))}}]),t}(a.Component),_i=Object(c.c)((function(e){return{authenticate:e.authenticate,profile:e.profile,events:e.events}}),(function(e){return{onRequestUser:function(){e(Ha())},getDistribBalance:function(t){e(Va(t.distrib_account.id))},getSelfBalance:function(t){e(za(t.self_account.id))},loadEvents:function(t,n){e(Fe(t,n))},reloadEvents:function(t){e(Fe(0,t))},onRedirectToStore:function(){e(Object(Ao.d)("donuts"))}}}))(Si),Pi=function(e){return{appBar:{position:"relative"},icon:{marginRight:e.spacing(2)},heroUnit:{backgroundColor:"transparent"},heroContent:{maxWidth:600,margin:"0 auto",padding:"".concat(e.spacing(8),"px 0 ").concat(e.spacing(6),"px")},heroButtons:{marginTop:e.spacing(4)},layout:Object(I.a)({width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(1100+2*e.spacing(3)),{width:1100,marginLeft:"auto",marginRight:"auto"}),cardGrid:{padding:"".concat(e.spacing(8),"px 0")},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:"transparent",padding:e.spacing(6)}}},Ni=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).handleLogIn=function(){n.props.onLoginRedirect()},n.handleRegister=function(){n.props.onRegisterRedirect()},n.handleGuestLogin=function(){n.props.onDemo()},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:e.heroUnit},r.a.createElement("div",{className:e.heroContent},r.a.createElement(aa.a,{variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Do Nuts"),r.a.createElement(aa.a,{variant:"h6",align:"center",color:"textSecondary",paragraph:!0},r.a.createElement(qe.b,null,"CONST_GREETINGS")),r.a.createElement("div",{className:e.heroButtons},r.a.createElement(Zt.a,{container:!0,spacing:16,justify:"center"},r.a.createElement(Zt.a,{item:!0},r.a.createElement(Qe.a,{variant:"contained",color:"primary",onClick:this.handleGuestLogin},"Demo")),r.a.createElement(Zt.a,{item:!0},r.a.createElement(Qe.a,{variant:"outlined",color:"primary",onClick:this.handleLogIn},"Sign In")),r.a.createElement(Zt.a,{item:!0},r.a.createElement(Qe.a,{variant:"outlined",color:"primary",onClick:this.handleRegister},"Sign Up"))))))),r.a.createElement("footer",{className:e.footer},r.a.createElement(aa.a,{variant:"caption",align:"center",color:"textSecondary",component:"p"},"\u0426\u041a\u0418 2019")))}}]),t}(r.a.Component),Di=Object(ze.a)(Pi)(Ni),Ti=Object(c.c)((function(e){return{authenticate:e.authenticate}}),(function(e){return{onLoginRedirect:function(){e(Object(Ao.d)("/login"))},onRegisterRedirect:function(){e(Object(Ao.d)("/register"))},onDemo:function(){e((function(e){var t={useToken:!1,action:"AUTHENTICATE",name:void 0,apiFunction:q.demo_authenticate,args:[]};return Qa(e,t).then((function(t){localStorage.setItem("auth_token",t.auth_token),localStorage.setItem("tenant",t.tenant),e(nr(t.auth_token,t.email)),e(Ha())}))}))}}}))(Di);n(136),n(369);var Ii=function(e){function t(e){var n;Object(D.a)(this,t),n=Object(He.a)(this,Object(Ue.a)(t).call(this,e));var a=new Fn({reduxForm:{form:"profile_settings",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(t){return{hasInitial:!0,initialValues:t.account.data,formId:"profile_settings",fields:[{name:"email",label:"Email",xs:12,size:"lg",disabled:!e.profile.admin},{name:"first_name",label:"Name",lg:6,size:"lg"},{name:"last_name",label:"Surname",lg:6,size:"lg"},{name:"department",source:n.props.departments.items,size:"lg",disabled:!e.profile.admin},{name:"position",label:"Position",size:"lg"}],submitCaption:"Save changes"}},mapDispatchToProps:function(e){return{onLoad:n.props.onLoad,onSubmit:n.props.onSubmit}}});return n.state={newLoaded:!1,preview:null},n.generatedForm=a.getForm(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){URL.revokeObjectURL(this.state.preview)}},{key:"componentWillUnmount",value:function(){URL.revokeObjectURL(this.state.preview)}},{key:"readFile",value:function(e){if(e&&e[0]){var t=new FormData;t.append("uploaded_image",e[0]),this.props.saveAvatar(t);var n=URL.createObjectURL(e[0]);this.setState({newLoaded:!0,preview:n})}}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.account),n=e.saveAvatar,a=this.generatedForm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6,lg:6},r.a.createElement(zn,{account:t.data,saveAvatar:n,changeable:!0})),r.a.createElement(Xt,{xs:12,sm:6,lg:6},r.a.createElement(a,null))))}}]),t}(a.Component),Fi=Object(ze.a)(Hn)(Object(qe.d)()(Ii)),Ri=Object(c.c)((function(e){return{dashboard:e.dashboard,account:e.account,profile:e.profile,system:e.system,departments:e.departments}}),(function(e){return{onLoad:function(){e((function(e){var t={useToken:!0,action:"load",name:"ACCOUNT",apiFunction:pe.getProfile,args:[]};return Qa(e,t).then((function(t){var n=Ma({},t.included.users[0],{},t.profile);Za(e,w("ACCOUNT"),{item:n},(function(){return{user_not_found:!0}}))}))}));var t=new La(je.departments);e(t.loadItems())},onSubmit:function(t){var n;e((n=t,function(e){var t={useToken:!0,action:"save",name:"ACCOUNT",apiFunction:pe.saveProfile,args:[n]};return Qa(e,t).then((function(t){Za(e,ue,{profile:t.profile}),e(Ha())}))}))},saveAvatar:function(t){e(Wa(t))}}}))(Fi),Ai="regards";var Li=n(351),Bi=n.n(Li),Mi=n(751),Hi=n(753),Ui=n(752),Wi=n(754),zi=n(143),Vi=n.n(zi),$i=n(106),Gi={root:{padding:"13px"},checked:{color:"#2E7D32"[0]+"!important"},checkedIcon:{width:"20px",height:"20px",border:"1px solid rgba("+Cn("#000")+", .54)",borderRadius:"3px"},uncheckedIcon:{width:"0px",height:"0px",padding:"10px",border:"1px solid rgba("+Cn("#000")+", .54)",borderRadius:"3px"},radio:{color:"#2E7D32"[0]+"!important"},radioChecked:{width:"20px",height:"20px",border:"1px solid "+"#2E7D32"[0],borderRadius:"50%"},radioUnchecked:{width:"0px",height:"0px",padding:"10px",border:"1px solid rgba("+Cn("#000")+", .54)",borderRadius:"50%"}};function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ki=function(e){return Ji({},Gi,{root:{flexGrow:1},tooltip:{padding:"10px 15px",minWidth:"130px",lineHeight:"1.7em",border:"none",borderRadius:"3px",boxShadow:"0 8px 10px 1px rgba("+Cn("#000")+", 0.14), 0 3px 14px 2px rgba("+Cn("#000")+", 0.12), 0 5px 5px -3px rgba("+Cn("#000")+", 0.2)",maxWidth:"200px",textAlign:"center",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"12px",fontStyle:"normal",fontWeight:"400",textShadow:"none",textTransform:"none",letterSpacing:"normal",wordBreak:"normal",wordSpacing:"normal",wordWrap:"normal",whiteSpace:"normal",lineBreak:"auto"},button:{font:"inherit",textTransform:"none"},cardTitleWhite:{color:"#FFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:bn[1],fontWeight:"400",lineHeight:"1"}},cardCategoryWhite:{color:"rgba("+Cn("#FFF")+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},table:{marginBottom:"0",overflow:"visible",background:"#FFF",maxWidth:"400px"},tableRow:{position:"relative",borderBottom:"1px solid "+bn[5]},tableActions:{display:"block",textAlign:"right",border:"none",padding:"12px 0px !important",verticalAlign:"middle"},tableAvatar:{},tableCell:Ji({},un,{padding:"8px",verticalAlign:"middle",border:"none",lineHeight:"1.42857143",fontSize:"14px",width:"80%"}),tableActionButton:{width:"30px",height:"30px",padding:"0"},toolbar:{margin:"0 0 0 0",padding:"0 0 0 0",minHeight:"20px"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object($i.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{margin:"0px",padding:"0px",flexGrow:"1"}})},Qi=Object(ze.a)(Ki)((function(e){var t=e.numSelected,n=e.classes,a=e.children,o=e.actions,i=Object(qe.c)().t,c=void 0!==o?o:[];return r.a.createElement(no.a,{className:ot()(n.toolbar,Object(I.a)({},n.highlight,t>0))},r.a.createElement("div",{className:n.title},t>0?r.a.createElement(aa.a,{color:"inherit",variant:"subtitle1"},t,"   ",r.a.createElement(qe.b,null,"selected")):r.a.createElement("div",null,a)),r.a.createElement("div",null,c.map((function(e){return r.a.createElement(fa.a,{key:e.label.concat(e.id),title:i(e.label),classes:{tooltip:n.tooltip},onClick:e.onClick},r.a.createElement(na.a,{"aria-label":e.label,className:n.tableActionButton},e.icon))}))))})),Yi=function(e){var t=e.item,n=e.action,a=e.classes,o=Object(qe.c)(),i=o.t;o.i18n;return r.a.createElement(fa.a,{key:t.id+"_"+n.id,id:n.id,title:i(n.label),placement:"top",classes:{tooltip:a.tooltip},onClick:n.onClick(t)},r.a.createElement(na.a,{"aria-label":n.label,className:a.tableActionButton},n.icon))},Zi=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[]},n.handleToggle=function(e){return function(){var t=n.state.checked,a=t.indexOf(e),r=Object(J.a)(t);-1===a?r.push(e):r.splice(a,1),n.setState({checked:r})}},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"handleRowClick",value:function(e){void 0!==this.props.rowClick&&this.props.rowClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.items,o=t.actions,i=t.checkable,c=n.tableCell,l=n.tableAvatar;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mi.a,{className:n.table},r.a.createElement(Ui.a,null,a.map((function(t){return r.a.createElement(Hi.a,{key:t.id,className:n.tableRow},i&&r.a.createElement(Wi.a,{className:c},r.a.createElement(tt.a,{checked:-1!==e.state.checked.indexOf(t),tabIndex:-1,onClick:e.handleToggle(t),checkedIcon:r.a.createElement(Vi.a,{className:n.checkedIcon}),icon:r.a.createElement(Vi.a,{className:n.uncheckedIcon}),classes:{checked:n.checked,root:n.root}})),void 0!==t.avatar&&r.a.createElement(Wi.a,{key:t.id+"_avatar",className:l},r.a.createElement(va,{avatar_url:t.avatar.thumb.url,onClick:e.handleRowClick.bind(e,t)})),t.values.map((function(a,o){return r.a.createElement(Wi.a,{key:t.id+"_"+o,className:c},r.a.createElement(Qe.a,{className:n.button,onClick:e.handleRowClick.bind(e,t)},a))})),r.a.createElement(Wi.a,{className:n.tableActions},o.map((function(e){return r.a.createElement(Yi,{item:t,action:e,classes:n,key:e.id})}))))})))))}}]),t}(r.a.Component),Xi=Yt()(Ki)(Zi),ec={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+Cn("#000")+", 0.87)",background:"#FFF",width:"100%",boxShadow:"0 1px 4px 0 rgba("+Cn("#000")+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};var tc=Yt()(ec)((function(e){var t,n=Object(Kt.a)({},e),a=n.classes,o=n.className,i=n.children,c=n.plain,l=n.profile,s=n.chart,u=Object(Xe.a)(n,["classes","className","children","plain","profile","chart"]),p=ot()((t={},Object(I.a)(t,a.card,!0),Object(I.a)(t,a.cardPlain,c),Object(I.a)(t,a.cardProfile,l),Object(I.a)(t,a.cardChart,s),Object(I.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:p},u),i)}));function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rc={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$secondaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$secondaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"5px !important"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$secondaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":ac({},gn)},successCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":ac({},On)},dangerCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":ac({},vn)},infoCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":ac({},yn)},primaryCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":ac({},En)},secondaryCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":ac({},jn)},roseCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":ac({},xn)}};var oc=Yt()(rc)((function(e){var t,n=Object(Kt.a)({},e),a=n.classes,o=n.className,i=n.children,c=n.color,l=n.plain,s=n.stats,u=n.icon,p=Object(Xe.a)(n,["classes","className","children","color","plain","stats","icon"]),d=ot()((t={},Object(I.a)(t,a.cardHeader,!0),Object(I.a)(t,a[c+"CardHeader"],c),Object(I.a)(t,a.cardHeaderPlain,l),Object(I.a)(t,a.cardHeaderStats,s),Object(I.a)(t,a.cardHeaderIcon,u),Object(I.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:d},p),i)})),ic={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}};var cc=Yt()(ic)((function(e){var t,n=Object(Kt.a)({},e),a=n.classes,o=n.className,i=n.children,c=n.plain,l=n.profile,s=Object(Xe.a)(n,["classes","className","children","plain","profile"]),u=ot()((t={},Object(I.a)(t,a.cardBody,!0),Object(I.a)(t,a.cardBodyPlain,c),Object(I.a)(t,a.cardBodyProfile,l),Object(I.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:u},s),i)})),lc={tableActionButtonIcon:{width:"27px",height:"27px"},edit:{backgroundColor:"transparent",color:"#2E7D32",boxShadow:"none",fontSize:"30"},buy:{backgroundColor:"transparent",color:mn[3],boxShadow:"none",fontSize:"30"},close:{backgroundColor:"transparent",color:dn[0],boxShadow:"none"}},sc=function(e){return e.filter((function(e){if(2===e.status)return e}))},uc=function(e){return e.filter((function(e){if(0===e.status)return e}))},pc=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadRegards()}},{key:"onPrint",value:function(e){console.log(e),this.props.onPrint(e)}},{key:"redirectToStore",value:function(){this.props.onRedirectToStore()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.regards.items.map((function(e){return{id:e.id,public_uid:e.public_uid,name:e.name,status:e.status,values:[e.donut_name]}})),o=[{id:"redirectToStore1",label:"Add",icon:r.a.createElement(vo.a,{className:n.tableActionButtonIcon}),onClick:this.redirectToStore.bind(this)}];return r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6,md:6},r.a.createElement(tc,null,r.a.createElement(oc,{color:"primary"},r.a.createElement(Qi,{actions:o},r.a.createElement("h4",{className:n.cardTitleWhite},r.a.createElement(qe.b,null,"Regards i can use")))),r.a.createElement(cc,null,r.a.createElement(Xi,{items:uc(a),rowClick:this.onPrint.bind(this),actions:[{icon:r.a.createElement(Bi.a,{className:n.tableActionButtonIcon+" "+n.edit}),id:"action_print_regard",label:"Print",onClick:function(t){return e.onPrint.bind(e,t)}}],checkable:!1})))),r.a.createElement(Xt,{xs:12,sm:6,md:6},r.a.createElement(tc,null,r.a.createElement(oc,{color:"secondary"},r.a.createElement(Qi,null,r.a.createElement("h4",{className:n.cardTitleWhite},r.a.createElement(qe.b,null,"Already used regards")))),r.a.createElement(cc,null,r.a.createElement(Xi,{items:sc(a),actions:[],checkable:!1})))))}}]),t}(r.a.Component),dc=Yt()(lc)(pc),mc=Object(c.c)((function(e){return{profile:e.profile,regards:e.regards}}),(function(e){return{loadRegards:function(){var t;e((t=1,function(e){var n={useToken:!0,action:"load",name:Ai,apiFunction:Ie.loadRegards,args:[t]};return Qa(e,n).then((function(n){var a,r=n.regards;void 0===r&&(r=[]),a=0==t||1==t?w(Ai):k(Ai),Za(e,a,{items:r,per_page:n.headers.get("per-page"),total:n.headers.get("total"),request_date:n.headers.get("request_date"),page:t},(function(){return{items:[]}}))}))}))},onPrint:function(t){e(Ne("REGARDS_PRINT",{public_uid:t.public_uid,title:t.values[0],name:t.name}))},onRedirectToStore:function(){e(Object(Ao.d)("donuts"))},onRequest:function(e){}}}))(dc),fc=n(765),bc=n(755),hc=n(770),gc=[{id:"name",numeric:!1,disablePadding:!0,label:"Donut name"},{id:"price",numeric:!0,disablePadding:!1,label:"Price"},{id:"expiration_date",numeric:!1,disablePadding:!1,label:"Expiration date"}],Oc=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){n.props.onRequestSort(t,e)}},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectAllClick,a=t.order,o=t.orderBy,i=t.numSelected,c=t.rowCount;return r.a.createElement(bc.a,null,r.a.createElement(Hi.a,null,r.a.createElement(Wi.a,{padding:"checkbox"},r.a.createElement(tt.a,{indeterminate:i>0&&i<c,checked:i===c,onChange:n})),gc.map((function(t){return r.a.createElement(Wi.a,{key:t.id,align:t.numeric?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:o===t.id&&a},r.a.createElement(fa.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(hc.a,{active:o===t.id,direction:a,onClick:e.createSortHandler(t.id)},r.a.createElement(qe.b,null,t.label))))}),this)))}}]),t}(r.a.Component),vc=Object(qe.d)()(Oc),yc=n(352),Ec=n.n(yc),jc=n(84),xc=n.n(jc),wc=n(88),kc=n.n(wc),Cc=n(138),Sc=n.n(Cc),_c=Object(ze.a)((function(e){return{root:{paddingRight:e.spacing(2)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object($i.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary,display:"flex"},title:{flex:"0 0 auto"},toolButton:{}}}))((function(e){var t=e.numSelected,n=e.classes,a=e.onAddItem,o=e.onEditItem,i=e.onDeleteItem,c=e.onBuyItem,l=Object(qe.c)(),s=l.t;l.i18n;return r.a.createElement(no.a,{className:ot()(n.root,Object(I.a)({},n.highlight,t>0))},r.a.createElement("div",{className:n.title},t>0?r.a.createElement(aa.a,{color:"inherit",variant:"subtitle1"},t,"   ",r.a.createElement(qe.b,null,"selected")):r.a.createElement(aa.a,{variant:"h6",id:"tableTitle"},r.a.createElement(qe.b,null,"Goods"))),r.a.createElement("div",{className:n.spacer}),r.a.createElement("div",{className:n.actions},1==t&&r.a.createElement(fa.a,{title:s("Edit"),className:n.toolButton,onClick:o},r.a.createElement(na.a,{"aria-label":"Edit"},r.a.createElement(kc.a,null))),1==t&&r.a.createElement(fa.a,{title:s("Buy"),className:n.toolButton,onClick:c},r.a.createElement(na.a,{"aria-label":"Buy"},r.a.createElement(Ec.a,null))),t>0?r.a.createElement(fa.a,{title:s("Delete"),className:n.toolButton,onClick:i},r.a.createElement(na.a,{"aria-label":"Delete"},r.a.createElement(xc.a,null))):r.a.createElement(fa.a,{title:s("Add"),className:n.toolButton},r.a.createElement(na.a,{"aria-label":"Add",onClick:a},r.a.createElement(Sc.a,null)))))}));function Pc(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Nc=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:"price",selected:[],page:0,rowsPerPage:5},n.componentDidMount=function(){n.props.loadStore()},n.handleRequestSort=function(e,t){var a=t,r="desc";n.state.orderBy===t&&"desc"===n.state.order&&(r="asc"),n.setState({order:r,orderBy:a})},n.handleSelectAllClick=function(e){e.target.checked?n.setState((function(e){return{selected:n.props.store.items.map((function(e){return e.id}))}})):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected,r=a.indexOf(t),o=[];-1===r?o=o.concat(a,t):0===r?o=o.concat(a.slice(1)):r===a.length-1?o=o.concat(a.slice(0,-1)):r>0&&(o=o.concat(a.slice(0,r),a.slice(r+1))),n.setState({selected:o})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.handleEdit=function(){n.state.selected.length>0&&n.props.onEditItem(n.state.selected[0])},n.handleBuyItem=function(){n.state.selected.length>0&&n.props.onBuyItem(n.state.selected[0])},n.handleDelete=function(){n.props.onDeleteItem(n.state.selected),n.setState({selected:[]})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.order,o=n.orderBy,i=n.selected,c=n.rowsPerPage,l=n.page,s=this.props.store.items,u=c-Math.min(c,s.length-l*c);return r.a.createElement(mt.a,{className:t.root,elevation:2},r.a.createElement(_c,{numSelected:i.length,onAddItem:this.props.onAddItem,onEditItem:this.handleEdit,onDeleteItem:this.handleDelete,onBuyItem:this.handleBuyItem}),r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Mi.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(vc,{numSelected:i.length,order:a,orderBy:o,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:s.length}),r.a.createElement(Ui.a,null,function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(s,function(e,t){return"desc"===e?function(e,n){return Pc(e,n,t)}:function(e,n){return-Pc(e,n,t)}}(a,o)).slice(l*c,l*c+c).map((function(t){var n=e.isSelected(t.id);return r.a.createElement(Hi.a,{hover:!0,onClick:function(n){return e.handleClick(n,t.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:t.id,selected:n},r.a.createElement(Wi.a,{padding:"checkbox"},r.a.createElement(tt.a,{checked:n})),r.a.createElement(Wi.a,{component:"th",scope:"row",padding:"none"},t.name),r.a.createElement(Wi.a,{align:"right"},t.price),r.a.createElement(Wi.a,{align:"left"},t.expiration_date))})),u>0&&r.a.createElement(Hi.a,{style:{height:49*u}},r.a.createElement(Wi.a,{colSpan:6}))))),r.a.createElement(fc.a,{rowsPerPageOptions:[5,10,25],component:"div",count:s.length,rowsPerPage:c,page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),Dc=Object(ze.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3)},table:{minWidth:100},tableWrapper:{overflowX:"auto"}}}))(Nc),Tc="ASSET";function Ic(e){return function(t){var n={useToken:!0,action:"add",name:Tc,apiFunction:he.buyAsset,args:[e.id]};return Qa(t,n).then((function(e){Za(t,k(Tc),e.regard),t(Y({message:"You have successfully bought a new donut",message2:"  '"+e.regard.donut_name+"'",options:{variant:"success"}}))}))}}var Fc=Object(c.c)((function(e){return{dashboard:e.dashboard,profile:e.profile,store:e.store}}),(function(e){return{loadStore:function(){e((function(e){var t={useToken:!0,action:"load",name:Ut,apiFunction:he.loadDounts,args:[]};return Qa(e,t).then((function(t){var n=t.donuts;void 0===n&&(n=[]),Za(e,w(R.a.plural(Ut)),{items:n},(function(){return{items:[]}}))}))}))},onAddItem:function(){e(Ne("NEW_STORE_ITEM",{}))},onEditItem:function(t){e(function(e){return function(t){var n={useToken:!0,action:"load",name:Ut,apiFunction:he.getItem,args:[e]};return Qa(t,n).then((function(e){Za(t,C(Ut),{item:e.donut}),void 0!==e.donut&&t(Ne(Ia,e.donut))}))}}(t))},onDeleteItem:function(t){var n=t.map((function(e){return{id:e}}));e(Wt(n))},onBuyItem:function(t){e(Ic(t))}}}))(Dc),Rc={},Ac="share_all",Lc="activate_code",Bc=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).click=function(e){var t=n.props.dashboard.profiles.map((function(e){return e.id}));n.props.onShare(e.points,t,e.message,Ac,e.burn_old)},n.activate=function(e){n.props.onActivate(e.code,Lc)},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"readFile",value:function(e){if(e&&e[0]){var t=new FormData;t.append("uploaded_image",e[0]),this.props.saveLogo(t)}}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6,md:6},r.a.createElement(tc,null,r.a.createElement(oc,{color:"primary"},r.a.createElement("h4",{className:t.cardTitleWhite},r.a.createElement(qe.b,null,"New points for all users"))),r.a.createElement(cc,null,r.a.createElement(Dn,{formId:Ac,fields:[{name:"points",xs:12,sm:12,md:12,lg:6},{name:"message",xs:12,sm:12,md:12,lg:6,size:"lg",multiline:!0,rows:"5",column:2},{name:"burn_old",label:"Burn old points",xs:12,size:"lg",checkbox:!0}],columns:[{id:1,xs:6},{id:2,xs:6}],submitCaption:"Send to all",onSubmit:this.click.bind(this)})))),r.a.createElement(Xt,{xs:12,sm:6,md:6},r.a.createElement(tc,null,r.a.createElement(oc,{color:"info"},r.a.createElement("h4",{className:t.cardTitleWhite},r.a.createElement(qe.b,null,"Activate regard code"))),r.a.createElement(cc,null,r.a.createElement(Dn,{formId:Lc,fields:[{name:"code"}],submitCaption:"Activate",color:"info",onSubmit:this.activate.bind(this)})))),r.a.createElement(Xt,{xs:12,sm:12,md:12},r.a.createElement(Fc,null)),r.a.createElement(Xt,{xs:12,sm:12,md:12},r.a.createElement(Un.a,{accept:"image/*",onDrop:function(t){return e.readFile(t)}},(function(e){var n=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",n(),r.a.createElement("input",a()),r.a.createElement("p",{className:t.caption},r.a.createElement(qe.b,null,"Click to select files"))))}))))}}]),t}(a.Component),Mc=Yt()(Rc)(Bc);var Hc=Object(c.c)((function(e){return{dashboard:e.dashboard,profile:e.profile}}),(function(e,t){return{onShare:function(t,n,a,r,o){e(Me(t,null,n,a,!0,!0,o)),e(Object(ka.a)(r))},loadUsers:function(){e(Be())},migrateAvatars:function(){e((function(e){var t={useToken:!0,action:"migrate",name:"avatars",apiFunction:de.migrateAvatars,args:[]};return Qa(e,t).then((function(t){Za(e,"MIGRATE_SUCCESS",{}),e(Y({message:"migrated",options:{variant:"success"}}))}))}))},onActivate:function(t,n){var a,r=new La(je.regards);e(r.updateItem({public_uid:t,status:2},(a=n,{success:function(e,t){e(Y({message:"Regard activated",options:{variant:"success"}})),e(Object(ka.a)(a))}})))},saveLogo:function(t){e(function(e){return function(t){var n={useToken:!0,action:"save",name:"logo",apiFunction:de.saveLogo,args:[e]};return Qa(t,n).then((function(e){Za(t,"SAVE_LOGO_SUCCESS",{}),t(Y({message:"saved",options:{variant:"success"}}))}))}}(t))}}}))(Mc),Uc=function(e){return{root:{height:"100%",margin:0,padding:0},container:{display:"block"},vertical_center:{width:"90%",position:"absolute",top:"30%",margin:0,padding:0},button:{width:200,display:"flex",margin:"auto"},textField:{width:250,display:"flex",margin:"auto"}}},Wc=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).click=function(){n.props.confirmEmail(n.props.match.params.token)},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadByToken(this.props.match.params.token)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.profile;return n.user_not_found||n.confirmed?r.a.createElement(cr.a,{to:"/dashboard"}):r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.vertical_center},r.a.createElement(Qe.a,{onClick:this.click,className:t.button,color:"secondary"},r.a.createElement(qe.b,null,"Confirm"))))}}]),t}(a.Component),zc=Object(c.c)((function(e){return{authenticate:e.authenticate,profile:e.profile}}),(function(e){return{loadByToken:function(t){var n;e((n=t,function(e){var t={useToken:!0,action:"load",name:"PROFILE",apiFunction:pe.getByToken,args:[n]};return Qa(e,t).then((function(t){Za(e,w("PROFILE"),{item:t.user},(function(){return{user_not_found:!0}}))}))}))},confirmEmail:function(t){e(Ua(t))}}}))(Object(ze.a)(Uc)(Object(qe.d)()(Wc))),Vc=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t;return r.a.createElement("form",{onSubmit:this.props.handleSubmit,className:t.container},r.a.createElement(Je.a,{name:"new_password",id:"new_password",label:n("new password"),component:kt,type:"password",autoComplete:"off",className:t.button}),r.a.createElement("br",null),r.a.createElement(Qe.a,{type:"submit",className:t.textField,color:"primary"},r.a.createElement(qe.b,null,"Change password")))}}]),t}(a.Component);Vc=Object(Ke.a)({form:"recover"})(Vc);var $c=Object(ze.a)(Sn)(Object(qe.d)()(Vc)),Gc=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).click=function(e){console.log(e),n.props.recover(n.props.match.params.token,e.new_password)},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadByRecover(this.props.match.params.token)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.profile,a=e.authenticate;return n.user_not_found||n.confirmed||a.authenticated?r.a.createElement(cr.a,{to:"/dashboard"}):r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.vertical_center},r.a.createElement($c,{onSubmit:this.click})))}}]),t}(a.Component),qc=Object(c.c)((function(e){return{authenticate:e.authenticate,profile:e.profile}}),(function(e){return{loadByRecover:function(t){var n;e((n=t,function(e){var t={useToken:!0,action:"load",name:"PROFILE",apiFunction:pe.getByRecoverToken,args:[n]};return Qa(e,t).then((function(t){Za(e,w("PROFILE"),{item:t.user},(function(){return{user_not_found:!0}}))}))}))},recover:function(t,n){e(function(e,t){return function(n){var a={useToken:!1,action:"update",name:"PASSWORD",apiFunction:pe.submitNewPassword,args:[e,t]};return Qa(n,a).then((function(e){Za(n,"UPDATE_PASSWORD",{},(function(){return{user_not_found:!0}})),console.log(e),n(Y({message:"Password updated",options:{variant:"success"}})),localStorage.setItem("auth_token",e.auth_token),localStorage.setItem("tenant",e.tenant),n({type:l,token:e.auth_token,username:e.email}),n(Ha())}))}}(t,n))}}}))(Object(ze.a)(Uc)(Object(qe.d)()(Gc))),Jc=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadItems()}},{key:"onDelete",value:function(e){this.props.onDelete(e)}},{key:"onAdd",value:function(){this.props.onAdd()}},{key:"onEdit",value:function(e){this.props.onEdit(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.departments,o=[];void 0!==a&&void 0!==a.items&&(o=a.items.map((function(e){return{id:e.id,public_uid:e.public_uid,name:e.name,head_profile:e.head_profile,values:[e.name]}})));var i=[{id:"add_new_department",label:"Add",icon:r.a.createElement(Yo.a,{className:n.tableActionButtonIcon}),onClick:this.onAdd.bind(this)}];return r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6,md:6},r.a.createElement(tc,null,r.a.createElement(oc,{color:"primary"},r.a.createElement(Qi,{actions:i},r.a.createElement("h4",{className:n.cardTitleWhite},r.a.createElement(qe.b,null,"Departments")))),r.a.createElement(cc,null,r.a.createElement(Xi,{items:o,actions:[{icon:r.a.createElement(xc.a,{className:n.tableActionButtonIcon+" "+n.delete}),id:"delete_depratment_action",label:"Delete",onClick:function(t){return e.onDelete.bind(e,t)}},{icon:r.a.createElement(kc.a,{className:n.tableActionButtonIcon+" "+n.edit}),id:"edit_depratment_action",label:"Edit",onClick:function(t){return e.onEdit.bind(e,t)}}],checkable:!1})))))}}]),t}(a.Component),Kc=Yt()(lc)(Jc),Qc=Object(c.c)((function(e){return{profile:e.profile,departments:e.departments}}),(function(e){return{loadItems:function(){var t=new La(je.departments);e(t.loadItems())},onAdd:function(){e(Ne("EDIT_DEPARTMENT",{}))},onEdit:function(t){e(Ne("EDIT_DEPARTMENT",t))},onDelete:function(){}}}))(Kc);function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Zc=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadProfiles()}},{key:"open",value:function(e){var t=!this.props.profile.admin;this.props.onEdit(e,t)}},{key:"getProfiles",value:function(e,t){return e.filter((function(e){return null!==e&&(null===e.department&&null===t||null!==e.department&&null!==t&&e.department.id===t.id)})).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.id},e,{values:[e.name],avatar:e.user_avatar})}))}},{key:"getDepartmenrsSorted",value:function(e){return e.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.profiles,o=t.departments,i=[],c=this.getProfiles(a.items,null);return r.a.createElement(r.a.Fragment,null,c.length>0&&r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:12,md:12},r.a.createElement(tc,null,r.a.createElement(oc,{color:"secondary"},r.a.createElement(Qi,{actions:i},r.a.createElement("h4",{className:n.cardTitleWhite},r.a.createElement(qe.b,null,"Without depratment")))),r.a.createElement(cc,null,r.a.createElement(Xi,{items:c,rowClick:this.open.bind(this),actions:[{icon:r.a.createElement(kc.a,{className:n.tableActionButtonIcon+" "+n.edit}),id:"edit_user",label:"Edit",onClick:function(t){return e.open.bind(e,t)}}],checkable:!1}))))),this.getDepartmenrsSorted(o.items).map((function(t){return r.a.createElement(en,{key:null!==t?t.id:"undefined_department"},r.a.createElement(Xt,{xs:12,sm:12,md:12},r.a.createElement(tc,null,r.a.createElement(oc,{color:"primary"},r.a.createElement(Qi,{actions:i},r.a.createElement("h4",{className:n.cardTitleWhite},r.a.createElement(qe.b,null,null!==t?t.name:"Without depratment")))),r.a.createElement(cc,null,r.a.createElement(Xi,{items:e.getProfiles(a.items,t),rowClick:e.open.bind(e),actions:[{icon:r.a.createElement(kc.a,{className:n.tableActionButtonIcon+" "+n.edit}),id:"edit_user",label:"Edit",onClick:function(t){return e.open.bind(e,t)}}],checkable:!1})))))})))}}]),t}(r.a.Component),Xc=Yt()(lc)(Zc);function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var tl=Object(c.c)((function(e){return{profiles:e.profiles,profile:e.profile,departments:e.departments}}),(function(e){return{loadProfiles:function(){var t=new La(je.profiles);e(t.loadItems()),t=new La(je.departments),e(t.loadItems())},onEdit:function(t,n){e(Ne("PROFILE_EDIT",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{disabled:n})))}}}))(Xc),nl=n(353),al=n.n(nl),rl=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadItems()}},{key:"onBuy",value:function(e){this.props.onBuy(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.donuts,o=[];void 0!==a&&void 0!==a.items&&(o=a.items.map((function(e){return{id:e.id,name:e.name,values:[e.name,e.price]}})));return r.a.createElement(en,null,r.a.createElement(Xt,{xs:12,sm:6,md:6},r.a.createElement(tc,null,r.a.createElement(oc,{color:"primary"},r.a.createElement(Qi,{actions:[]},r.a.createElement("h4",{className:n.cardTitleWhite},r.a.createElement(qe.b,null,"Donuts")))),r.a.createElement(cc,null,r.a.createElement(Xi,{items:o,actions:[{icon:r.a.createElement(al.a,{className:n.tableActionButtonIcon+" "+n.buy}),id:"buy_donut",label:"Buy",onClick:function(t){return e.onBuy.bind(e,t)}}],checkable:!1})))))}}]),t}(a.Component),ol=Yt()(lc)(rl),il=Object(c.c)((function(e){return{dashboard:e.dashboard,profile:e.profile,donuts:e.donuts}}),(function(e){return{loadItems:function(){var t=new La(je.donuts);e(t.loadItems())},onBuy:function(t){e(Ic(t))}}}))(ol),cl=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.loadItems()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.account_operations,a=[];void 0!==n&&void 0!==n.items&&(a=(a=n.items.map((function(e){return{id:e.id,sum:e.direction*e.amount,comment:e.comment,created_at:null!==e.created_at?e.created_at:"-",values:[null!==e.created_at?e.created_at:"-",e.direction*e.amount,null!==e.comment?e.comment:""]}}))).sort((function(e,t){return e.created_at>t.created_at?-1:e.created_at<t.created_at?1:0})));return r.a.createElement(en,null,r.a.createElement(Xt,{xs:12},r.a.createElement(tc,null,r.a.createElement(oc,{color:"primary"},r.a.createElement(Qi,{actions:[]},r.a.createElement("h4",{className:t.cardTitleWhite},r.a.createElement(qe.b,null,"History")))),r.a.createElement(cc,null,r.a.createElement(Xi,{items:a,actions:[],checkable:!1})))))}}]),t}(a.Component),ll=Yt()(lc)(cl),sl=Object(c.c)((function(e){return{account_operations:e.account_operations,profile:e.profile}}),(function(e,t){return{loadItems:function(){var n=new La(je.account_log);e(n.loadItems({id:t.match.params.id}))}}}))(ll),ul=n(354),pl=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).state={width:100,height:100},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){this.setState({height:this.props.height})}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.t,a=(e.classes,t.sort((function(e,t){return e.score_total>t.score_total?-1:e.score_total<t.score_total?1:0}))),o={labels:a.map((function(e){return e.name})),datasets:[{label:n("points"),backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:a.map((function(e){return e.score_total}))}]};return r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(qe.b,null,this.props.caption)),r.a.createElement("div",null,r.a.createElement(ul.a,{data:o,height:this.state.height,width:this.state.width,options:{maintainAspectRatio:!1,responsive:!0}})))}}]),t}(r.a.Component),dl=Object(qe.d)()(pl),ml=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).showScore=function(e){n.setState({show_score:!0,show_balance:!1,show_sent:!1,caption:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e"},(function(){n.props.onLoad(n.state)}))},n.showBalance=function(e){n.setState({show_score:!1,show_balance:!0,show_sent:!1,caption:"\u0421\u0435\u0439\u0447\u0430\u0441 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c"},(function(){n.props.onLoad(n.state)}))},n.showSent=function(e){n.setState({show_score:!1,show_balance:!1,show_sent:!0,caption:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u0435\u043d\u043e"},(function(){n.props.onLoad(n.state)}))},n.state={show_score:!0,show_balance:!1,show_sent:!1,caption:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e"},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad({show_score:!0})}},{key:"render",value:function(){var e=this.props.profiles.items;return r.a.createElement("div",null,r.a.createElement(Qe.a,{onClick:this.showScore},"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e"),r.a.createElement(Qe.a,{onClick:this.showBalance},"\u0421\u0435\u0439\u0447\u0430\u0441 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c"),r.a.createElement(Qe.a,{onClick:this.showSent},"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u0435\u043d\u043e"),e.length>0&&r.a.createElement(dl,{items:e,height:30*e.length+100,caption:this.state.caption}),0==e.length&&r.a.createElement(Pa,null))}}]),t}(a.Component),fl=Object(c.c)((function(e){return{profiles:e.profiles}}),(function(e){return{onLoad:function(t){var n=new La(je.profiles);e(n.loadItems(t))}}}))(ml),bl=(n(648),function(e,t){return{onSubmit:function(n){var a;e(Ae({item:t.event,comment:n.text},(a="new_comment_form",{success:function(e,t){e(Y({message:"Comment saved",options:{variant:"success"}})),e(Object(ka.a)(a))}})))}}}),hl=function(e){function t(e){var n;Object(D.a)(this,t),n=Object(He.a)(this,Object(Ue.a)(t).call(this,e));var a=new Fn({reduxForm:{form:"new_comment_form",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(e){return{hasInitial:!1,formId:"new_comment_form",fields:[{name:"text",label:"your comment",size:"lg",xd:12,rows:"4"}],submitCaption:"Send",cancelable:!1}},mapDispatchToProps:bl});return n.generatedForm=a.getForm(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){}}]),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.modal,e.event),n=this.generatedForm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n,{formId:"new_comment_form",onCloseModal:this.props.onCloseModal,event:t}))}}]),t}(a.Component),gl=Object(ze.a)(Hn)(Object(c.c)((function(e,t){return{event:t.event}}),bl)(hl)),Ol=function(e){function t(e){var n;Object(D.a)(this,t),n=Object(He.a)(this,Object(Ue.a)(t).call(this,e));var a=new Fn({reduxForm:{form:"new_comment_form",enableReinitialize:!0,keepDirtyOnReinitialize:!0},mapStateToProps:function(e){return{hasInitial:!1,formId:"new_comment_form",fields:[{name:"text",label:"your comment",size:"lg",xd:12,rows:"4"}],submitCaption:"Send",cancelable:!0}}});return n.generatedForm=a.getForm(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){var e=this.props.events;return r.a.createElement(r.a.Fragment,null,void 0!==e.selected&&r.a.createElement(en,null,r.a.createElement(Xt,{xs:12},r.a.createElement(xa,{post:e.selected,notModal:!0})),null!==e.selected.comments&&e.selected.comments.sort((function(e,t){return e.id-t.id})).map((function(e,t){return r.a.createElement(Xt,{xs:12,key:t},r.a.createElement(wa,{post:e}))})),r.a.createElement(Xt,{xs:12},r.a.createElement(gl,{event:e.selected}))))}}]),t}(a.Component),vl=(Object(ze.a)(Hn)(Ol),Object(c.c)((function(e,t){return{profile:e.profile,events:e.events,event_id:t.match.params.id}}),(function(e,t){return{onLoad:function(){e(Re(t.match.params.id))},showEventModal:function(t){e(Ne(Ra,{event:t}))}}}))(Ol)),yl=[{path:"/home",anonymous:!0,authenticated:!1,sidebarName:"Home",navbarName:"Home",icon:Do.a,hideInMenu:!0,active:!0,component:Ti},{path:"/dashboard",authenticated:!0,anonymous:!0,sidebarName:"Dashboard",navbarName:"Dashboard",icon:bo.a,hideInMenu:!1,active:!0,component:_i},{path:"/login",anonymous:!0,authenticated:!1,sidebarName:"Log In",navbarName:"Log In",icon:go.a,active:!0,component:Bo},{path:"/register",anonymous:!0,authenticated:!1,sidebarName:"Register",navbarName:"Register",icon:go.a,active:!0,component:Go},{path:"/confirm_email/:token",anonymous:!0,authenticated:!1,active:!0,hideInMenu:!0,sidebarName:"ConfirmEmail",navbarName:"ConfirmEmail",component:zc},{path:"/recover_password/:token",anonymous:!0,authenticated:!1,active:!0,hideInMenu:!0,sidebarName:"RecoverPassword",navbarName:"RecoverPassword",component:qc},{path:"/account/:id",anonymous:!1,authenticated:!0,active:!0,hideInMenu:!0,sidebarName:"AccountOperationsPage",navbarName:"AccountOperationsPage",component:sl},{path:"/event/:id",anonymous:!1,authenticated:!0,active:!0,hideInMenu:!0,component:vl},{path:"/account",anonymous:!1,authenticated:!0,sidebarName:"Account",navbarName:"Account",icon:go.a,active:!0,component:Ri},{path:"/departments",anonymous:!1,authenticated:!0,sidebarName:"Departments",navbarName:"Departments",icon:Eo.a,active:!0,admin:!0,component:Qc},{path:"/people",anonymous:!1,authenticated:!0,sidebarName:"People",navbarName:"People",icon:ko.a,active:!0,admin:!1,component:tl},{path:"/donuts",anonymous:!1,authenticated:!0,sidebarName:"Donuts",navbarName:"Donuts",icon:vo.a,active:!0,component:il},{path:"/my",anonymous:!1,authenticated:!0,sidebarName:"My regards",navbarName:"My regards",icon:xo.a,active:!0,component:mc},{path:"/statistic",anonymous:!1,authenticated:!0,sidebarName:"Statistic",navbarName:"Statistic",admin:!0,icon:Po.a,active:!0,component:fl},{path:"/settings",anonymous:!1,authenticated:!0,sidebarName:"Settings",navbarName:"Settings",admin:!0,icon:So.a,active:!0,component:Hc},{redirect:!0,anonymous:!1,authenticated:!0,active:!0,path:"/login",to:"/dashboard",navbarName:"Redirect"},{redirect:!0,anonymous:!1,authenticated:!0,active:!0,path:"/home",to:"/dashboard",navbarName:"Redirect"},{redirect:!0,anonymous:!0,authenticated:!1,active:!0,path:"/",to:"/home",navbarName:"Redirect"},{redirect:!0,anonymous:!1,authenticated:!0,active:!0,path:"/",to:"/dashboard",navbarName:"Redirect"}],El=function(e){return{accountTitle:{backgroundColor:e.palette.primary[200]}}},jl=n(729),xl=n(682),wl=n(756),kl=n(757),Cl=n(60);function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sl(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pl=function(e){return{drawerPaper:{border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(I.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(8)}),toolbarIcon:_l({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),hidden:{display:"none"},toolbar:{paddingRight:24},logo:{position:"relative",padding:"15px 15px 5px 10px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+Cn(bn[6])+", 0.3)"}},logoLink:_l({},un,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#2E7D32"}}),logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"17px",position:"absolute",verticalAlign:"middle",border:"0"},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"black"}},itemLink:_l({width:"210px",height:"40px",transition:"all 300ms linear",margin:"10px 10px 0",borderRadius:"3px",position:"relative",display:"block",padding:"5px 10px"},un),itemIcon:{width:"24px",marginLeft:"10px",height:"30px",fontSize:"24px",paddingTop:"3px",lineHeight:"30px",float:"left",marginRight:"18px",textAlign:"center",verticalAlign:"middle",color:"rgba(0, 0, 0, 0.8)"},itemText:_l({},un,{margin:"0",lineHeight:"30px",fontSize:"14px"}),purple:_l({backgroundColor:"#2E7D32"},hn,{"&:hover":_l({backgroundColor:"#2E7D32"},hn)}),gray:_l({backgroundColor:bn},wn,{paddingTop:"5px","&:hover":_l({backgroundColor:bn},wn,{paddingTop:"5px"})}),blue:{backgroundColor:fn,boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)","&:hover":{backgroundColor:fn,boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)"}},green:{backgroundColor:mn,boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)","&:hover":{backgroundColor:mn,boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)"}},orange:{backgroundColor:pn,boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)","&:hover":{backgroundColor:pn,boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)"}},red:{backgroundColor:dn,boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)","&:hover":{backgroundColor:dn,boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:240,zIndex:"4",overflowScrolling:"touch"}}},Nl=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.routes,o=t.color,i=t.profile;return r.a.createElement(jl.a,{className:n.list},a.map((function(t,a){if(t.redirect||!t.authenticated||t.hideInMenu||void 0===t.sidebarName||t.admin&&!i.admin)return null;var c=ot()(Object(I.a)({}," "+n[o],e.activeRoute(t.path)));console.log(c);var l=ot()(Object(I.a)({}," "+n.whiteFont,e.activeRoute(t.path)));return r.a.createElement(Cl.a,{to:t.path,className:n.item,activeClassName:"active",key:a},r.a.createElement(xl.a,{button:!0,className:n.itemLink+c},r.a.createElement(wl.a,{className:n.itemIcon+l},"string"===typeof t.icon?r.a.createElement(ha.a,null,t.icon):r.a.createElement(t.icon,null)),r.a.createElement(kl.a,{className:n.itemText+l,disableTypography:!0},r.a.createElement(qe.b,null,t.sidebarName))))})))}}]),t}(r.a.Component),Dl=Object(ze.a)(Pl)(Object(qe.d)("translations")(Nl)),Tl=r.a.forwardRef((function(e,t){return r.a.createElement(Dl,Object.assign({forwardedRef:t},e))})),Il=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!0,anchorEl:null},n.handleChange=function(e,t){n.setState({auth:t})},n.handleMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleLogOut=function(){n.setState({anchorEl:null}),n.props.onLogOut()},n.handleLogIn=function(){n.setState({anchorEl:null}),n.props.onLoginRedirect()},n.handleRegister=function(){n.setState({anchorEl:null}),n.props.onRegisterRedirect()},n.handleAccount=function(){n.setState({anchorEl:null}),n.props.onAccount()},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.profile),n=this.state.anchorEl;console.log("Account menu"),console.log(this.props);var a=this.props.authenticate.authenticated,o=Boolean(n),i=null;return void 0!==t.user_avatar&&null!==t.user_avatar&&(i=t.user_avatar.thumb.url),r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,{"aria-owns":o?"menu-account":null,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},i&&r.a.createElement(mo.a,{size:"30",name:t.name,src:i}),!i&&r.a.createElement(uo.a,null)),r.a.createElement(lo.a,{id:"menu-account",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:this.handleClose,onClick:this.handleClose},!a&&r.a.createElement(gt.a,{onClick:this.handleLogIn},"Log In"),!a&&r.a.createElement(gt.a,{onClick:this.handleRegister},"Registration"),r.a.createElement(Tl,{profile:t,routes:yl,location:this.props.location}),a&&r.a.createElement(gt.a,{onClick:this.handleLogOut}," ",r.a.createElement(co.a,null)," ",r.a.createElement(qe.b,null,"Log Out"))))}}]),t}(r.a.Component),Fl=Yt()(El)(Il),Rl=Object(c.c)((function(e,t){return{authenticate:e.authenticate,location:t.location,profile:e.profile}}),(function(e){return{onLogin:function(t,n){e(Xa(t,n))},onLogOut:function(){e(er())},onCheckAuth:function(){e(tr())},onLoginRedirect:function(){e(Object(Ao.d)("/login"))},onRegisterRedirect:function(){e(Object(Ao.d)("/register"))},onAccount:function(){e(Object(Ao.d)("/account"))}}}))(Fl),Al=n(223),Ll=n.n(Al),Bl=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.classes,n=e.color,a=e.authenticate,o=e.profile,i=a.authenticated,c=ot()(Object(I.a)({}," "+t[n],n)),l=void 0!==o.department&&null!==o.department?o.department.name:"";return i&&o.loaded?r.a.createElement(to.a,{className:t.appBar+c},r.a.createElement(no.a,{className:t.container},r.a.createElement(na.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"Open drawer"}),r.a.createElement("div",{className:t.flex},r.a.createElement(aa.a,{variant:"button"},o.first_name+" "+o.last_name),r.a.createElement("br",null),r.a.createElement(aa.a,{variant:"caption",display:"block",gutterBottom:!0},l,", ",o.position)),r.a.createElement(Rl,{location:this.props.location}))):r.a.createElement(r.a.Fragment,null)}}]),t}(r.a.Component),Ml=Object(ze.a)(oo)(Bl),Hl=Object(c.c)((function(e,t){return{authenticate:e.authenticate,profile:e.profile,routes:t.routes}}),(function(e){return{loadProfile:function(){e(Ha())}}}))(Ml),Ul=n(225),Wl=n.n(Ul),zl=n(171),Vl=n.n(zl),$l=n(170),Gl=n.n($l),ql=n(365);n(656);function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ql=function(e){var t,n;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Kl((t={},Object(I.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),Object(I.a)(t,"overflow","auto"),Object(I.a)(t,"position","relative"),Object(I.a)(t,"float","right"),t),on,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),mainPanelWide:(n={width:"calc(100% - ".concat(e.spacing(7),"px)")},Object(I.a)(n,e.breakpoints.up("xs"),{width:"calc(100% - ".concat(e.spacing(1),"px)")}),Object(I.a)(n,e.breakpoints.up("md"),{width:"calc(100% - ".concat(e.spacing(9),"px)")}),n),content:{marginTop:"30px",padding:"30px 10px",minHeight:"calc(100vh - 123px)"},container:cn,map:{marginTop:"70px"}}},Yl=n(759),Zl=n(760),Xl=n(367),es=n.n(Xl),ts=n(366),ns=n.n(ts),as=n(767),rs=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={open:n.props.open},n.handleDrawerOpen=function(){n.setState({open:!0}),n.props.handleDrawerOpen()},n.handleDrawerClose=function(){n.setState({open:!1}),n.props.handleDrawerClose()},n.toggle=function(){n.state.open?n.handleDrawerClose():n.handleDrawerOpen()},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=(this.props.authenticate.authenticated,r.a.createElement("div",{className:e.logo},r.a.createElement("a",{href:"#",className:e.logoLink,onClick:this.toggle},r.a.createElement("div",{className:e.logoImage},r.a.createElement("img",{src:Ll.a,alt:"logo",className:e.img})),"Do Nuts")));return r.a.createElement(as.a,{smDown:!0,implementation:"css"},r.a.createElement(Yl.a,{variant:"permanent",classes:{paper:ot()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},t,r.a.createElement("div",{className:ot()(e.toolbarIcon)},r.a.createElement(na.a,{onClick:this.handleDrawerClose,className:ot()(!this.state.open&&e.hidden)},r.a.createElement(ns.a,null)),r.a.createElement(na.a,{"aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:ot()(e.menuButton,this.state.open&&e.hidden)},r.a.createElement(es.a,null))),r.a.createElement(Zl.a,null),r.a.createElement("div",{className:e.sidebarWrapper},r.a.createElement(Dl,this.props))))}}]),t}(r.a.Component),os=Object(ze.a)(Pl)(Object(qe.d)("translations")(rs)),is=Object(c.c)((function(e,t){return{authenticate:e.authenticate,routes:t.routes,profile:e.profile}}),(function(e){return{}}))(os),cs=n(761),ls=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"handleClose",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.fullScreen;return r.a.createElement(cs.a,{fullScreen:n,open:t,onClose:this.handleClose.bind(this),"aria-labelledby":"responsive-dialog-title",fullWidth:!0,scroll:"body"},this.props.children)}}]),t}(a.Component),ss=Object($e.a)()(ls),us=function(e){function t(){return Object(D.a)(this,t),Object(He.a)(this,Object(Ue.a)(t).apply(this,arguments))}return Object(We.a)(t,e),Object(T.a)(t,[{key:"handleClose",value:function(){this.props.onCloseModal()}},{key:"handleAccept",value:function(){this.props.onAccept()}},{key:"handleCancel",value:function(){this.props.onCancel()}},{key:"render",value:function(){var e=this.props.modal,t=e.show,n=e.modalName;if(t){var a=Aa[n];return r.a.createElement(ss,{open:!0,onClose:this.handleClose.bind(this)},r.a.createElement(a,{onCloseModal:this.handleClose.bind(this),onAccept:this.handleAccept.bind(this),onCancel:this.handleCancel.bind(this),modal:e,body:e.body}))}return r.a.createElement(r.a.Fragment,null)}}]),t}(a.Component),ps=Object(c.c)((function(e){return{modal:e.modal}}),(function(e){return{onCloseModal:function(){e(De()),e(Te(Pe))},onAccept:function(){e(De()),e(Te("OK"))},onCancel:function(){e(De()),e(Te(_e))}}}))(us),ds=n(189),ms=function(e){return r.a.createElement(r.a.Fragment,null,e.notifyText,r.a.createElement(Qe.a,{onClick:e.onClick},e.children))},fs=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(He.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).displayed=[],n.storeDisplayed=function(e){n.displayed=[].concat(Object(J.a)(n.displayed),[e])},n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"shouldComponentUpdate",value:function(e){for(var t=e.notifications,n=void 0===t?[]:t,a=this.props.notifications,r=!1,o=function(e){if(r)return"continue";r=r||!a.filter((function(t){var a=t.key;return n[e].key===a})).length},i=0;i<n.length;i++)o(i);return r}},{key:"componentDidUpdate",value:function(){var e,t=this,n=this.props,a=n.notifications,o=void 0===a?[]:a,i=n.t;n.i18n;o.forEach((function(n){if(!t.displayed.includes(n.key)){var a=i(n.message);void 0!==n.message2&&(a+=i(n.message2)),e=n.action?r.a.createElement(ms,{notifyText:a,onClick:n.action.onClick},i(n.action.caption)):a,t.props.enqueueSnackbar(e,n.options),t.storeDisplayed(n.key),t.props.removeSnackbar(n.key)}}))}},{key:"render",value:function(){return null}}]),t}(a.Component),bs=Object(c.c)((function(e){return{notifications:e.notifier.notifications}}),(function(e){return Object(lr.bindActionCreators)({removeSnackbar:Z},e)}))(Object(qe.d)()(Object(ds.withSnackbar)(fs)));function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var gs=Object(Xr.a)({palette:{primary:Vl.a,secondary:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Wl.a,{A400:"#00e677"}),error:Gl.a}}),Os=r.a.createElement(cr.d,null,yl.map((function(e,t){if(void 0!==e.authenticated&&e.authenticated&&e.active)return e.redirect?r.a.createElement(cr.a,{from:e.path,to:e.to,key:t}):r.a.createElement(cr.b,{path:e.path,component:e.component,key:t})}))),vs=r.a.createElement(cr.d,null,yl.map((function(e,t){if(e.anonymous&&e.active)return e.redirect?r.a.createElement(cr.a,{from:e.path,to:e.to,key:t}):r.a.createElement(cr.b,{path:e.path,component:e.component,key:t})}))),ys=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(He.a)(this,Object(Ue.a)(t).call(this,e))).handleDrawerToggle=function(){n.setState({mobileOpen:!n.state.mobileOpen})},n.handleDrawerOpen=function(){console.log("Open drawer"),n.setState({drawerOpen:!0})},n.handleDrawerClose=function(){console.log("Close drawer"),n.setState({drawerOpen:!1})},n.state={mobileOpen:!1,drawerOpen:!0},n.resizeFunction=n.resizeFunction.bind(Object(At.a)(n)),n.mainPanel=r.a.createRef(),n}return Object(We.a)(t,e),Object(T.a)(t,[{key:"resizeFunction",value:function(){window.innerWidth>=960&&this.setState({mobileOpen:!1})}},{key:"componentWillMount",value:function(){this.props.authenticate.authenticated&&this.props.actions.onLoad()}},{key:"componentDidMount",value:function(){if(navigator.platform.indexOf("Win")>-1&&void 0!==this.mainPanel.current&&null!==this.mainPanel.current)new ql.a(this.mainPanel.current);window.addEventListener("resize",this.resizeFunction)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.pathname!==e.location.pathname){if(void 0!==this.mainPanel.current&&null!==this.mainPanel.current)try{this.mainPanel.current.scrollTop()}catch(t){this.mainPanel.current.scrollTop=0}this.state.mobileOpen&&this.setState({mobileOpen:!1})}}},{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.authenticate,o=Object(Xe.a)(t,["classes","authenticate"]),i=a.authenticated;return e=this.state.drawerOpen&&i?ot()(n.mainPanel):ot()(n.mainPanel,n.mainPanelWide),r.a.createElement(eo.a,{theme:gs},r.a.createElement(bs,null),i&&r.a.createElement("div",{className:n.wrapper},i&&r.a.createElement(is,Object.assign({routes:yl,handleDrawerOpen:this.handleDrawerOpen.bind(this),handleDrawerClose:this.handleDrawerClose.bind(this),open:this.state.drawerOpen,color:"gray"},o)),r.a.createElement("div",{className:e,ref:this.mainPanel},i&&r.a.createElement(Hl,Object.assign({routes:yl},o)),r.a.createElement("div",{className:n.content},r.a.createElement("div",{className:n.container},Os)))),!i&&r.a.createElement("div",{className:e},r.a.createElement("div",{className:n.content},r.a.createElement("div",{className:n.container},vs))),r.a.createElement(ps,null))}}]),t}(a.Component),Es=Object(cr.g)(Yt()(Ql)(ys)),js=[{path:"/",component:Object(c.c)((function(e){return{authenticate:e.authenticate}}),(function(e){return{actions:{onLoad:function(){e(Ha())}}}}))(Es)}],xs=(n(668),n(233)),ws=n(368),ks=n.n(ws);xs.a.use(ks.a).init({resources:{en:{translations:{Events:"Events",Balance:"Balance",Dashboard:"Dashboard","Confirmation email was sent to":"Confirmation email was sent to",Confirm:"Confirm email","Registration Confirmation":"Registration Confirmation","Log in":"Log in","Recover password":"Recover password",CONST_GREETINGS:"Fast and simple way to   encourage your colleagues and thank them for their patience and help."}},ru:{translations:{CONST_GREETINGS:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0432\u0430\u0448\u0438\u0445 \u043a\u043e\u043b\u043b\u0435\u0433 \u0437\u0430 \u043e\u0442\u043b\u0438\u0447\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443.",Account:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",Activate:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c","Already used regards":"\u0423\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b","Activate regard code":"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0430 \u043d\u0430\u0433\u0440\u0430\u0434\u044b","Already activated":"\u0423\u0436\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e","All users":"\u0412\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",Balance:"\u0411\u0430\u043b\u0430\u043d\u0441",Buy:"\u041a\u0443\u043f\u0438\u0442\u044c","Burn old points":"\u0421\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0431\u0430\u043b\u043b\u043e\u0432",Cancel:"\u041e\u0442\u043c\u0435\u043d\u0430","Can not be empty":"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c","Change password":"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",Confirm:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441","Confirmation email was sent to":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b ","Confirm your email first":"\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u043d\u0435\u0438\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b ","Connect to space":"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0443",code:"\u043a\u043e\u0434",Comment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","Click to select files":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e",Close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",created:"\u0441\u043e\u0437\u0434\u0430\u043d(\u0430)",department:"\u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",Dashboard:"\u041b\u0435\u043d\u0442\u0430",Delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",Departments:"\u041e\u0442\u0434\u0435\u043b\u044b",Department:"\u041e\u0442\u0434\u0435\u043b",Details:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","Distrib account":"\u041c\u043e\u0433\u0443 \u043e\u0442\u0434\u0430\u0442\u044c","Donut name":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u044e\u0448\u043a\u0438",Donuts:"\u0413\u0430\u0439\u043a\u0438 \u0438 \u043f\u043b\u044e\u0448\u043a\u0438",donuts:"\u043f\u043e\u043d\u0447\u0438\u043a\u0438",donut_0:"\u043f\u043e\u043d\u0447\u0438\u043a",donut_1:"\u043f\u043e\u043d\u0447\u0438\u043a\u0430",donut_2:"\u043f\u043e\u043d\u0447\u0438\u043a\u043e\u0432","Domain not found":"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0434\u043e\u043c\u0435\u043d",Edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","Error while updating":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",Events:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f","Expiration date":"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",forbidden:"\u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e","Go to shop":"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",Goods:"\u0422\u043e\u0432\u0430\u0440\u044b",History:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",Home:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","Log in":"\u0412\u043e\u0439\u0442\u0438","Log Out":"\u0412\u044b\u0439\u0442\u0438","Max donuts":"\u041c\u0430\u043a\u0438\u0441\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043d\u0447\u0438\u043a\u043e\u0432",message:"\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","My regards":"\u041c\u043e\u0438 \u043d\u0430\u0433\u0440\u0430\u0434\u044b","new password":"\u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c","New points for all users":"\u041d\u043e\u0432\u044b\u0435 \u0431\u0430\u043b\u043b\u044b \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",Name:"\u0418\u043c\u044f","Only you can see it":"\u0422\u043e\u043b\u044c\u043a\u043e \u0432\u044b \u044d\u0442\u043e \u0432\u0438\u0434\u0438\u0442\u0435",People:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","Please confirm your email":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",points:"\u0431\u0430\u043b\u043b\u044b",point_0:"\u0431\u0430\u043b\u043b",point_1:"\u0431\u0430\u043b\u043b\u0430",point_2:"\u0431\u0430\u043b\u043b\u043e\u0432",position:"\u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",Position:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",Price:"\u0426\u0435\u043d\u0430",Profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",pts:"$",place:"\u043c\u0435\u0441\u0442\u043e","Registration Confirmation":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438","Recover password":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c","Regards i can use":"\u041d\u0430\u0433\u0440\u0430\u0434\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","Regard activated":"\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430",Required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435","Save changes":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","Self account":"\u041c\u043e\u0433\u0443 \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c",Share:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f","Share dialog":"\u041e\u043a\u043d\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432","Show only mine":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u043e\u0438","Store item":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430",Send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","Send to all":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432\u0441\u0435\u043c","Send again":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",Settings:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",Statistic:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","start typing":"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434",Store:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d","Something went wrong.":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.",Surname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f","Without depratment":"\u0411\u0435\u0437 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","Wrong credetialis":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438 \u0441 \u044d\u0442\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c","Withdrawl error. Not enough points":"\u041e\u0448\u0438\u0431\u043a\u0430. \u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0431\u0430\u043b\u043b\u043e\u0432","you have to be admin":"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u043c\u0435\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430","You have successfully bought a new donut":"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u0443\u043f\u0438\u043b\u0438 \u043f\u043b\u044e\u0448\u043a\u0443","your comment":"\u0432\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}}},fallbackLng:"en",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});var Cs=xs.a;Yr.dispatch(tr());var Ss=document.querySelector("#root");i.a.render(r.a.createElement(c.a,{store:Yr},r.a.createElement(ds.SnackbarProvider,null,r.a.createElement(qe.a,{i18n:Cs},r.a.createElement(or.a,{loading:null,persistor:Zr},r.a.createElement(ir.a,{history:qr},r.a.createElement(cr.d,null,js.map((function(e,t){return r.a.createElement(cr.b,{path:e.path,component:e.component,key:t})})))))))),Ss),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[425,1,2]]]);
//# sourceMappingURL=main.7353f4c3.chunk.js.map